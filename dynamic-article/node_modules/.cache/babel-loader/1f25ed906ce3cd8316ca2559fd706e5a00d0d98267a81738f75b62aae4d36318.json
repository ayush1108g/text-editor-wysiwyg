{"ast":null,"code":"/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nimport dialog from '../modules/dialog';\nimport anchor from '../modules/_anchor';\nexport default {\n  name: 'link',\n  display: 'dialog',\n  add: function (core) {\n    core.addModule([dialog, anchor]);\n    const context = core.context;\n    const contextLink = context.link = {\n      focusElement: null,\n      // @Override dialog // This element has focus when the dialog is opened.\n      _linkAnchor: null,\n      anchorCtx: null\n    };\n\n    /** link dialog */\n    let link_dialog = this.setDialog(core);\n    contextLink.modal = link_dialog;\n\n    /** link controller */\n    let link_controller = this.setController_LinkButton(core);\n    contextLink.linkController = link_controller;\n    link_dialog.querySelector('form').addEventListener('submit', this.submit.bind(core));\n    link_controller.addEventListener('click', this.onClick_linkController.bind(core));\n\n    /** append html */\n    context.dialog.modal.appendChild(link_dialog);\n\n    /** append controller */\n    context.element.relative.appendChild(link_controller);\n\n    /** link event */\n    core.plugins.anchor.initEvent.call(core, 'link', link_dialog);\n    contextLink.focusElement = context.anchor.caller.link.urlInput;\n\n    /** empty memory */\n    link_dialog = null, link_controller = null;\n  },\n  /** dialog */\n  setDialog: function (core) {\n    const lang = core.lang;\n    const dialog = core.util.createElement('DIV');\n    const icons = core.icons;\n    dialog.className = 'se-dialog-content';\n    dialog.style.display = 'none';\n    let html = '' + '<form>' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" title=\"' + lang.dialogBox.close + '\" aria-label=\"' + lang.dialogBox.close + '\">' + icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.linkBox.title + '</span>' + '</div>' + core.context.anchor.forms.innerHTML + '<div class=\"se-dialog-footer\">' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\" aria-label=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n    dialog.innerHTML = html;\n    return dialog;\n  },\n  /** modify controller button */\n  setController_LinkButton: function (core) {\n    const lang = core.lang;\n    const icons = core.icons;\n    const link_btn = core.util.createElement('DIV');\n    link_btn.className = 'se-controller se-controller-link';\n    link_btn.innerHTML = '' + '<div class=\"se-arrow se-arrow-up\"></div>' + '<div class=\"link-content\"><span><a target=\"_blank\" href=\"\"></a>&nbsp;</span>' + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + icons.edit + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"unlink\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + icons.unlink + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.unlink + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>' + '</div>';\n    return link_btn;\n  },\n  /**\n   * @Override dialog\n   */\n  open: function () {\n    this.plugins.dialog.open.call(this, 'link', 'link' === this.currentControllerName);\n  },\n  submit: function (e) {\n    this.showLoading();\n    e.preventDefault();\n    e.stopPropagation();\n    try {\n      const oA = this.plugins.anchor.createAnchor.call(this, this.context.anchor.caller.link, false);\n      if (oA === null) return;\n      if (!this.context.dialog.updateModal) {\n        const selectedFormats = this.getSelectedElements();\n        if (selectedFormats.length > 1) {\n          const oFormat = this.util.createElement(selectedFormats[0].nodeName);\n          oFormat.appendChild(oA);\n          if (!this.insertNode(oFormat, null, true)) return;\n        } else {\n          if (!this.insertNode(oA, null, true)) return;\n        }\n        this.setRange(oA.childNodes[0], 0, oA.childNodes[0], oA.textContent.length);\n      } else {\n        // set range\n        const textNode = this.context.link._linkAnchor.childNodes[0];\n        this.setRange(textNode, 0, textNode, textNode.textContent.length);\n      }\n    } finally {\n      this.plugins.dialog.close.call(this);\n      this.closeLoading();\n      // history stack\n      this.history.push(false);\n    }\n    return false;\n  },\n  /**\n   * @Override core\n   */\n  active: function (element) {\n    if (!element) {\n      if (this.controllerArray.indexOf(this.context.link.linkController) > -1) {\n        this.controllersOff();\n      }\n    } else if (this.util.isAnchor(element) && element.getAttribute('data-image-link') === null) {\n      if (this.controllerArray.indexOf(this.context.link.linkController) < 0) {\n        this.plugins.link.call_controller.call(this, element);\n      }\n      return true;\n    }\n    return false;\n  },\n  /**\n   * @Override dialog\n   */\n  on: function (update) {\n    this.plugins.anchor.on.call(this, this.context.anchor.caller.link, update);\n  },\n  call_controller: function (selectionATag) {\n    this.editLink = this.context.link._linkAnchor = this.context.anchor.caller.link.linkAnchor = selectionATag;\n    const linkBtn = this.context.link.linkController;\n    const link = linkBtn.querySelector('a');\n    link.href = selectionATag.href;\n    link.title = selectionATag.textContent;\n    link.textContent = selectionATag.textContent;\n    this.util.addClass(selectionATag, 'on');\n    this.setControllerPosition(linkBtn, selectionATag, 'bottom', {\n      left: 0,\n      top: 0\n    });\n    this.controllersOn(linkBtn, selectionATag, 'link', this.util.removeClass.bind(this.util, this.context.link._linkAnchor, 'on'));\n  },\n  onClick_linkController: function (e) {\n    e.stopPropagation();\n    const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n    if (!command) return;\n    e.preventDefault();\n    if (/update/.test(command)) {\n      this.plugins.dialog.open.call(this, 'link', true);\n    } else if (/unlink/.test(command)) {\n      const sc = this.util.getChildElement(this.context.link._linkAnchor, function (current) {\n        return current.childNodes.length === 0 || current.nodeType === 3;\n      }, false);\n      const ec = this.util.getChildElement(this.context.link._linkAnchor, function (current) {\n        return current.childNodes.length === 0 || current.nodeType === 3;\n      }, true);\n      this.setRange(sc, 0, ec, ec.textContent.length);\n      this.nodeChange(null, null, ['A'], false);\n    } else {\n      /** delete */\n      this.util.removeItem(this.context.link._linkAnchor);\n      this.context.anchor.caller.link.linkAnchor = null;\n      this.focus();\n\n      // history stack\n      this.history.push(false);\n    }\n    this.controllersOff();\n  },\n  /**\n   * @Override dialog\n   */\n  init: function () {\n    this.context.link.linkController.style.display = 'none';\n    this.plugins.anchor.init.call(this, this.context.anchor.caller.link);\n  }\n};","map":{"version":3,"names":["dialog","anchor","name","display","add","core","addModule","context","contextLink","link","focusElement","_linkAnchor","anchorCtx","link_dialog","setDialog","modal","link_controller","setController_LinkButton","linkController","querySelector","addEventListener","submit","bind","onClick_linkController","appendChild","element","relative","plugins","initEvent","call","caller","urlInput","lang","util","createElement","icons","className","style","html","dialogBox","close","cancel","linkBox","title","forms","innerHTML","submitButton","link_btn","edit","controller","unlink","delete","remove","open","currentControllerName","e","showLoading","preventDefault","stopPropagation","oA","createAnchor","updateModal","selectedFormats","getSelectedElements","length","oFormat","nodeName","insertNode","setRange","childNodes","textContent","textNode","closeLoading","history","push","active","controllerArray","indexOf","controllersOff","isAnchor","getAttribute","call_controller","on","update","selectionATag","editLink","linkAnchor","linkBtn","href","addClass","setControllerPosition","left","top","controllersOn","removeClass","command","target","parentNode","test","sc","getChildElement","current","nodeType","ec","nodeChange","removeItem","focus","init"],"sources":["E:/Programming/React/New folder (2)/dynamicArt/dynamic-article/node_modules/suneditor/src/plugins/dialog/link.js"],"sourcesContent":["/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nimport dialog from '../modules/dialog';\nimport anchor from '../modules/_anchor';\n\nexport default {\n    name: 'link',\n    display: 'dialog',\n    add: function (core) {\n        core.addModule([dialog, anchor]);\n\n        const context = core.context;\n        const contextLink = context.link = {\n            focusElement: null, // @Override dialog // This element has focus when the dialog is opened.\n            _linkAnchor: null,\n            anchorCtx: null\n        };\n\n        /** link dialog */\n        let link_dialog = this.setDialog(core);\n        contextLink.modal = link_dialog;\n        \n        /** link controller */\n        let link_controller = this.setController_LinkButton(core);\n        contextLink.linkController = link_controller;\n\n        link_dialog.querySelector('form').addEventListener('submit', this.submit.bind(core));\n        link_controller.addEventListener('click', this.onClick_linkController.bind(core));\n\n        /** append html */\n        context.dialog.modal.appendChild(link_dialog);\n\n        /** append controller */\n        context.element.relative.appendChild(link_controller);\n\n        /** link event */\n        core.plugins.anchor.initEvent.call(core, 'link', link_dialog);\n        contextLink.focusElement = context.anchor.caller.link.urlInput;\n\n        /** empty memory */\n        link_dialog = null, link_controller = null;\n    },\n\n    /** dialog */\n    setDialog: function (core) {\n        const lang = core.lang;\n        const dialog = core.util.createElement('DIV');\n        const icons = core.icons;\n\n        dialog.className = 'se-dialog-content';\n        dialog.style.display = 'none';\n        let html = '' +\n            '<form>' +\n                '<div class=\"se-dialog-header\">' +\n                    '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" title=\"' + lang.dialogBox.close + '\" aria-label=\"' + lang.dialogBox.close + '\">' +\n                        icons.cancel +\n                    '</button>' +\n                    '<span class=\"se-modal-title\">' + lang.dialogBox.linkBox.title + '</span>' +\n                '</div>' +\n                core.context.anchor.forms.innerHTML +\n                '<div class=\"se-dialog-footer\">' +\n                    '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\" aria-label=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\n                '</div>' +\n            '</form>';\n\n        dialog.innerHTML = html;\n        return dialog;\n    },\n\n    /** modify controller button */\n    setController_LinkButton: function (core) {\n        const lang = core.lang;\n        const icons = core.icons;\n        const link_btn = core.util.createElement('DIV');\n\n        link_btn.className = 'se-controller se-controller-link';\n        link_btn.innerHTML = '' +\n            '<div class=\"se-arrow se-arrow-up\"></div>' +\n            '<div class=\"link-content\"><span><a target=\"_blank\" href=\"\"></a>&nbsp;</span>' +\n                '<div class=\"se-btn-group\">' +\n                    '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\n                        icons.edit +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"unlink\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\n                        icons.unlink +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.unlink + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\n                        icons.delete +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\n                    '</button>' +\n                '</div>' +\n            '</div>';\n\n        return link_btn;\n    },\n\n    /**\n     * @Override dialog\n     */\n    open: function () {\n        this.plugins.dialog.open.call(this, 'link', 'link' === this.currentControllerName);\n    },\n\n    submit: function (e) {\n        this.showLoading();\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        try {\n            const oA = this.plugins.anchor.createAnchor.call(this, this.context.anchor.caller.link, false);\n            if (oA === null) return;\n    \n            if (!this.context.dialog.updateModal) {\n                const selectedFormats = this.getSelectedElements();\n                if (selectedFormats.length > 1) {\n                    const oFormat = this.util.createElement(selectedFormats[0].nodeName);\n                    oFormat.appendChild(oA);\n                    if (!this.insertNode(oFormat, null, true)) return;\n                } else {\n                    if (!this.insertNode(oA, null, true)) return;\n                }\n    \n                this.setRange(oA.childNodes[0], 0, oA.childNodes[0], oA.textContent.length);\n            } else {\n                // set range\n                const textNode = this.context.link._linkAnchor.childNodes[0];\n                this.setRange(textNode, 0, textNode, textNode.textContent.length);\n            }\n        } finally {\n            this.plugins.dialog.close.call(this);\n            this.closeLoading();\n            // history stack\n            this.history.push(false);\n        }\n\n        return false;\n    },\n\n    /**\n     * @Override core\n     */\n    active: function (element) {\n        if (!element) {\n            if (this.controllerArray.indexOf(this.context.link.linkController) > -1) {\n                this.controllersOff();\n            }\n        } else if (this.util.isAnchor(element) && element.getAttribute('data-image-link') === null) {\n            if (this.controllerArray.indexOf(this.context.link.linkController) < 0) {\n                this.plugins.link.call_controller.call(this, element);\n            }\n            return true;\n        }\n\n        return false;\n    },\n\n    /**\n     * @Override dialog\n     */\n    on: function (update) {\n        this.plugins.anchor.on.call(this, this.context.anchor.caller.link, update);\n    },\n\n    call_controller: function (selectionATag) {\n        this.editLink = this.context.link._linkAnchor = this.context.anchor.caller.link.linkAnchor = selectionATag;\n        const linkBtn = this.context.link.linkController;\n        const link = linkBtn.querySelector('a');\n\n        link.href = selectionATag.href;\n        link.title = selectionATag.textContent;\n        link.textContent = selectionATag.textContent;\n\n        this.util.addClass(selectionATag, 'on');\n        this.setControllerPosition(linkBtn, selectionATag, 'bottom', {left: 0, top: 0});\n        this.controllersOn(linkBtn, selectionATag, 'link', this.util.removeClass.bind(this.util, this.context.link._linkAnchor, 'on'));\n    },\n\n    onClick_linkController: function (e) {\n        e.stopPropagation();\n\n        const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n        if (!command) return;\n\n        e.preventDefault();\n\n        if (/update/.test(command)) {\n            this.plugins.dialog.open.call(this, 'link', true);\n        } else if (/unlink/.test(command)) {\n            const sc = this.util.getChildElement(this.context.link._linkAnchor, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, false);\n            const ec = this.util.getChildElement(this.context.link._linkAnchor, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, true);\n            this.setRange(sc, 0, ec, ec.textContent.length);\n            this.nodeChange(null, null, ['A'], false);\n        } else {\n            /** delete */\n            this.util.removeItem(this.context.link._linkAnchor);\n            this.context.anchor.caller.link.linkAnchor = null;\n            this.focus();\n\n            // history stack\n            this.history.push(false);\n        }\n\n        this.controllersOff();\n    },\n\n    /**\n     * @Override dialog\n     */\n    init: function () {\n        this.context.link.linkController.style.display = 'none';\n        this.plugins.anchor.init.call(this, this.context.anchor.caller.link);\n    }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}