{"ast":null,"code":"/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\n(function (global, factory) {\n  if (typeof module === 'object' && typeof module.exports === 'object') {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error('SUNEDITOR_MODULES a window with a document');\n      }\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n  const fileBrowser = {\n    name: 'fileBrowser',\n    _xmlHttp: null,\n    _loading: null,\n    /**\n     * @description Constructor\n     * @param {Object} core Core object \n     */\n    add: function (core) {\n      const context = core.context;\n      context.fileBrowser = {\n        _closeSignal: false,\n        area: null,\n        header: null,\n        tagArea: null,\n        body: null,\n        list: null,\n        tagElements: null,\n        items: [],\n        selectedTags: [],\n        selectorHandler: null,\n        contextPlugin: '',\n        columnSize: 4\n      };\n\n      /** fileBrowser */\n      let browser_div = core.util.createElement('DIV');\n      browser_div.className = 'se-file-browser sun-editor-common';\n      let back = core.util.createElement('DIV');\n      back.className = 'se-file-browser-back';\n      let content = core.util.createElement('DIV');\n      content.className = 'se-file-browser-inner';\n      content.innerHTML = this.set_browser(core);\n      browser_div.appendChild(back);\n      browser_div.appendChild(content);\n      this._loading = browser_div.querySelector('.se-loading-box');\n      context.fileBrowser.area = browser_div;\n      context.fileBrowser.header = content.querySelector('.se-file-browser-header');\n      context.fileBrowser.titleArea = content.querySelector('.se-file-browser-title');\n      context.fileBrowser.tagArea = content.querySelector('.se-file-browser-tags');\n      context.fileBrowser.body = content.querySelector('.se-file-browser-body');\n      context.fileBrowser.list = content.querySelector('.se-file-browser-list');\n\n      /** add event listeners */\n      context.fileBrowser.tagArea.addEventListener('click', this.onClickTag.bind(core));\n      context.fileBrowser.list.addEventListener('click', this.onClickFile.bind(core));\n      content.addEventListener('mousedown', this._onMouseDown_browser.bind(core));\n      content.addEventListener('click', this._onClick_browser.bind(core));\n\n      /** append html */\n      context.element.relative.appendChild(browser_div);\n\n      /** empty memory */\n      browser_div = null, back = null, content = null;\n    },\n    set_browser: function (core) {\n      const lang = core.lang;\n      return '<div class=\"se-file-browser-content\">' + '<div class=\"se-file-browser-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-file-browser-close\" class=\"close\" title=\"' + lang.dialogBox.close + '\" aria-label=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + '</button>' + '<span class=\"se-file-browser-title\"></span>' + '<div class=\"se-file-browser-tags\"></div>' + '</div>' + '<div class=\"se-file-browser-body\">' + '<div class=\"se-loading-box sun-editor-common\"><div class=\"se-loading-effect\"></div></div>' + '<div class=\"se-file-browser-list\"></div>' + '</div>' + '</div>';\n    },\n    /**\n     * @description Event to control the behavior of closing the browser\n     * @param {MouseEvent} e Event object\n     * @private\n     */\n    _onMouseDown_browser: function (e) {\n      if (/se-file-browser-inner/.test(e.target.className)) {\n        this.context.fileBrowser._closeSignal = true;\n      } else {\n        this.context.fileBrowser._closeSignal = false;\n      }\n    },\n    /**\n     * @description Event to close the window when the outside area of the browser or close button is click\n     * @param {MouseEvent} e Event object\n     * @private\n     */\n    _onClick_browser: function (e) {\n      e.stopPropagation();\n      if (/close/.test(e.target.getAttribute('data-command')) || this.context.fileBrowser._closeSignal) {\n        this.plugins.fileBrowser.close.call(this);\n      }\n    },\n    /**\n     * @description Open a file browser plugin\n     * @param {String} pluginName Plugin name using the file browser\n     * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\n     */\n    open: function (pluginName, selectorHandler) {\n      if (this.plugins.fileBrowser._bindClose) {\n        this._d.removeEventListener('keydown', this.plugins.fileBrowser._bindClose);\n        this.plugins.fileBrowser._bindClose = null;\n      }\n      this.plugins.fileBrowser._bindClose = function (e) {\n        if (!/27/.test(e.keyCode)) return;\n        this.plugins.fileBrowser.close.call(this);\n      }.bind(this);\n      this._d.addEventListener('keydown', this.plugins.fileBrowser._bindClose);\n      const fileBrowserContext = this.context.fileBrowser;\n      fileBrowserContext.contextPlugin = pluginName;\n      fileBrowserContext.selectorHandler = selectorHandler;\n      const pluginContext = this.context[pluginName];\n      const listClassName = pluginContext.listClass;\n      if (!this.util.hasClass(fileBrowserContext.list, listClassName)) {\n        fileBrowserContext.list.className = 'se-file-browser-list ' + listClassName;\n      }\n      if (this.options.popupDisplay === 'full') {\n        fileBrowserContext.area.style.position = 'fixed';\n      } else {\n        fileBrowserContext.area.style.position = 'absolute';\n      }\n      fileBrowserContext.titleArea.textContent = pluginContext.title;\n      fileBrowserContext.area.style.display = 'block';\n      this.plugins.fileBrowser._drawFileList.call(this, this.context[pluginName].url, this.context[pluginName].header);\n    },\n    _bindClose: null,\n    /**\n     * @description Close a fileBrowser plugin\n     * The plugin's \"init\" method is called.\n     */\n    close: function () {\n      const fileBrowserPlugin = this.plugins.fileBrowser;\n      if (fileBrowserPlugin._xmlHttp) {\n        fileBrowserPlugin._xmlHttp.abort();\n      }\n      if (fileBrowserPlugin._bindClose) {\n        this._d.removeEventListener('keydown', fileBrowserPlugin._bindClose);\n        fileBrowserPlugin._bindClose = null;\n      }\n      const fileBrowserContext = this.context.fileBrowser;\n      fileBrowserContext.area.style.display = 'none';\n      fileBrowserContext.selectorHandler = null;\n      fileBrowserContext.selectedTags = [];\n      fileBrowserContext.items = [];\n      fileBrowserContext.list.innerHTML = fileBrowserContext.tagArea.innerHTML = fileBrowserContext.titleArea.textContent = '';\n      if (typeof this.plugins[fileBrowserContext.contextPlugin].init === 'function') this.plugins[fileBrowserContext.contextPlugin].init.call(this);\n      fileBrowserContext.contextPlugin = '';\n    },\n    /**\n     * @description Show file browser loading box\n     */\n    showBrowserLoading: function () {\n      this._loading.style.display = 'block';\n    },\n    /**\n     * @description Close file browser loading box\n     */\n    closeBrowserLoading: function () {\n      this._loading.style.display = 'none';\n    },\n    _drawFileList: function (url, browserHeader) {\n      const fileBrowserPlugin = this.plugins.fileBrowser;\n      const xmlHttp = fileBrowserPlugin._xmlHttp = this.util.getXMLHttpRequest();\n      xmlHttp.onreadystatechange = fileBrowserPlugin._callBackGet.bind(this, xmlHttp);\n      xmlHttp.open('get', url, true);\n      if (browserHeader !== null && typeof browserHeader === 'object' && this._w.Object.keys(browserHeader).length > 0) {\n        for (let key in browserHeader) {\n          xmlHttp.setRequestHeader(key, browserHeader[key]);\n        }\n      }\n      xmlHttp.send(null);\n      this.plugins.fileBrowser.showBrowserLoading();\n    },\n    _callBackGet: function (xmlHttp) {\n      if (xmlHttp.readyState === 4) {\n        this.plugins.fileBrowser._xmlHttp = null;\n        if (xmlHttp.status === 200) {\n          try {\n            const res = JSON.parse(xmlHttp.responseText);\n            if (res.result.length > 0) {\n              this.plugins.fileBrowser._drawListItem.call(this, res.result, true);\n            } else if (res.nullMessage) {\n              this.context.fileBrowser.list.innerHTML = res.nullMessage;\n            }\n          } catch (e) {\n            throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : \"' + e.message + '\"');\n          } finally {\n            this.plugins.fileBrowser.closeBrowserLoading();\n            this.context.fileBrowser.body.style.maxHeight = this._w.innerHeight - this.context.fileBrowser.header.offsetHeight - 50 + 'px';\n          }\n        } else {\n          // exception\n          this.plugins.fileBrowser.closeBrowserLoading();\n          if (xmlHttp.status !== 0) {\n            const res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\n            const err = '[SUNEDITOR.fileBrowser.get.serverException] status: ' + xmlHttp.status + ', response: ' + (res.errorMessage || xmlHttp.responseText);\n            throw Error(err);\n          }\n        }\n      }\n    },\n    _drawListItem: function (items, update) {\n      const fileBrowserContext = this.context.fileBrowser;\n      const pluginContext = this.context[fileBrowserContext.contextPlugin];\n      const _tags = [];\n      const len = items.length;\n      const columnSize = pluginContext.columnSize || fileBrowserContext.columnSize;\n      const splitSize = columnSize <= 1 ? 1 : Math.round(len / columnSize) || 1;\n      const drawItemHandler = pluginContext.itemTemplateHandler;\n      let tagsHTML = '';\n      let listHTML = '<div class=\"se-file-item-column\">';\n      let columns = 1;\n      for (let i = 0, item, tags; i < len; i++) {\n        item = items[i];\n        tags = !item.tag ? [] : typeof item.tag === 'string' ? item.tag.split(',') : item.tag;\n        tags = item.tag = tags.map(function (v) {\n          return v.trim();\n        });\n        listHTML += drawItemHandler(item);\n        if ((i + 1) % splitSize === 0 && columns < columnSize && i + 1 < len) {\n          columns++;\n          listHTML += '</div><div class=\"se-file-item-column\">';\n        }\n        if (update && tags.length > 0) {\n          for (let t = 0, tLen = tags.length, tag; t < tLen; t++) {\n            tag = tags[t];\n            if (tag && _tags.indexOf(tag) === -1) {\n              _tags.push(tag);\n              tagsHTML += '<a title=\"' + tag + '\" aria-label=\"' + tag + '\">' + tag + '</a>';\n            }\n          }\n        }\n      }\n      listHTML += '</div>';\n      fileBrowserContext.list.innerHTML = listHTML;\n      if (update) {\n        fileBrowserContext.items = items;\n        fileBrowserContext.tagArea.innerHTML = tagsHTML;\n        fileBrowserContext.tagElements = fileBrowserContext.tagArea.querySelectorAll('A');\n      }\n    },\n    onClickTag: function (e) {\n      const target = e.target;\n      if (!this.util.isAnchor(target)) return;\n      const tagName = target.textContent;\n      const fileBrowserPlugin = this.plugins.fileBrowser;\n      const fileBrowserContext = this.context.fileBrowser;\n      const selectTag = fileBrowserContext.tagArea.querySelector('a[title=\"' + tagName + '\"]');\n      const selectedTags = fileBrowserContext.selectedTags;\n      const sTagIndex = selectedTags.indexOf(tagName);\n      if (sTagIndex > -1) {\n        selectedTags.splice(sTagIndex, 1);\n        this.util.removeClass(selectTag, 'on');\n      } else {\n        selectedTags.push(tagName);\n        this.util.addClass(selectTag, 'on');\n      }\n      fileBrowserPlugin._drawListItem.call(this, selectedTags.length === 0 ? fileBrowserContext.items : fileBrowserContext.items.filter(function (item) {\n        return item.tag.some(function (tag) {\n          return selectedTags.indexOf(tag) > -1;\n        });\n      }), false);\n    },\n    onClickFile: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      const fileBrowserContext = this.context.fileBrowser;\n      const listEl = fileBrowserContext.list;\n      let target = e.target;\n      let command = null;\n      if (target === listEl) return;\n      while (listEl !== target.parentNode) {\n        command = target.getAttribute('data-command');\n        if (command) break;\n        target = target.parentNode;\n      }\n      if (!command) return;\n      const handler = fileBrowserContext.selectorHandler || this.context[fileBrowserContext.contextPlugin].selectorHandler;\n      handler(target, target.parentNode.querySelector('.__se__img_name').textContent);\n      this.plugins.fileBrowser.close.call(this);\n    }\n  };\n  if (typeof noGlobal === typeof undefined) {\n    if (!window.SUNEDITOR_MODULES) {\n      Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n    Object.defineProperty(window.SUNEDITOR_MODULES, 'fileBrowser', {\n      enumerable: true,\n      writable: false,\n      configurable: false,\n      value: fileBrowser\n    });\n  }\n  return fileBrowser;\n});","map":{"version":3,"names":["global","factory","module","exports","document","w","Error","window","noGlobal","fileBrowser","name","_xmlHttp","_loading","add","core","context","_closeSignal","area","header","tagArea","body","list","tagElements","items","selectedTags","selectorHandler","contextPlugin","columnSize","browser_div","util","createElement","className","back","content","innerHTML","set_browser","appendChild","querySelector","titleArea","addEventListener","onClickTag","bind","onClickFile","_onMouseDown_browser","_onClick_browser","element","relative","lang","dialogBox","close","icons","cancel","e","test","target","stopPropagation","getAttribute","plugins","call","open","pluginName","_bindClose","_d","removeEventListener","keyCode","fileBrowserContext","pluginContext","listClassName","listClass","hasClass","options","popupDisplay","style","position","textContent","title","display","_drawFileList","url","fileBrowserPlugin","abort","init","showBrowserLoading","closeBrowserLoading","browserHeader","xmlHttp","getXMLHttpRequest","onreadystatechange","_callBackGet","_w","Object","keys","length","key","setRequestHeader","send","readyState","status","res","JSON","parse","responseText","result","_drawListItem","nullMessage","message","maxHeight","innerHeight","offsetHeight","err","errorMessage","update","_tags","len","splitSize","Math","round","drawItemHandler","itemTemplateHandler","tagsHTML","listHTML","columns","i","item","tags","tag","split","map","v","trim","t","tLen","indexOf","push","querySelectorAll","isAnchor","tagName","selectTag","sTagIndex","splice","removeClass","addClass","filter","some","preventDefault","listEl","command","parentNode","handler","undefined","SUNEDITOR_MODULES","defineProperty","enumerable","writable","configurable","value"],"sources":["E:/Programming/React/New folder (2)/dynamicArt/dynamic-article/node_modules/suneditor/src/plugins/modules/fileBrowser.js"],"sourcesContent":["/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\n(function (global, factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const fileBrowser = {\n        name: 'fileBrowser',\n        _xmlHttp: null,\n        _loading: null,\n\n        /**\n         * @description Constructor\n         * @param {Object} core Core object \n         */\n        add: function (core) {\n            const context = core.context;\n            context.fileBrowser = {\n                _closeSignal: false,\n                area: null,\n                header: null,\n                tagArea: null,\n                body: null,\n                list: null,\n                tagElements: null,\n                items: [],\n                selectedTags: [],\n                selectorHandler: null,\n                contextPlugin: '',\n                columnSize: 4\n            };\n\n            /** fileBrowser */\n            let browser_div = core.util.createElement('DIV');\n            browser_div.className = 'se-file-browser sun-editor-common';\n\n            let back = core.util.createElement('DIV');\n            back.className = 'se-file-browser-back';\n\n            let content = core.util.createElement('DIV');\n            content.className = 'se-file-browser-inner';\n            content.innerHTML = this.set_browser(core);\n\n            browser_div.appendChild(back);\n            browser_div.appendChild(content);\n            this._loading = browser_div.querySelector('.se-loading-box');\n\n            context.fileBrowser.area = browser_div;\n            context.fileBrowser.header = content.querySelector('.se-file-browser-header');\n            context.fileBrowser.titleArea = content.querySelector('.se-file-browser-title');\n            context.fileBrowser.tagArea = content.querySelector('.se-file-browser-tags');\n            context.fileBrowser.body = content.querySelector('.se-file-browser-body');\n            context.fileBrowser.list = content.querySelector('.se-file-browser-list');\n\n            /** add event listeners */\n            context.fileBrowser.tagArea.addEventListener('click', this.onClickTag.bind(core));\n            context.fileBrowser.list.addEventListener('click', this.onClickFile.bind(core));\n            content.addEventListener('mousedown', this._onMouseDown_browser.bind(core));\n            content.addEventListener('click', this._onClick_browser.bind(core));\n            \n            /** append html */\n            context.element.relative.appendChild(browser_div);\n            \n            /** empty memory */\n            browser_div = null, back = null, content = null;\n        },\n\n        set_browser: function (core) {\n            const lang = core.lang;\n\n            return '<div class=\"se-file-browser-content\">' +\n                    '<div class=\"se-file-browser-header\">' +\n                        '<button type=\"button\" data-command=\"close\" class=\"se-btn se-file-browser-close\" class=\"close\" title=\"' + lang.dialogBox.close + '\" aria-label=\"' + lang.dialogBox.close + '\">' +\n                        core.icons.cancel +\n                        '</button>' +\n                        '<span class=\"se-file-browser-title\"></span>' +\n                        '<div class=\"se-file-browser-tags\"></div>' +\n                    '</div>' +\n                    '<div class=\"se-file-browser-body\">' +\n                        '<div class=\"se-loading-box sun-editor-common\"><div class=\"se-loading-effect\"></div></div>' +\n                        '<div class=\"se-file-browser-list\"></div>' +\n                    '</div>' +\n                '</div>';\n        },\n\n        /**\n         * @description Event to control the behavior of closing the browser\n         * @param {MouseEvent} e Event object\n         * @private\n         */\n        _onMouseDown_browser: function (e) {\n            if (/se-file-browser-inner/.test(e.target.className)) {\n                this.context.fileBrowser._closeSignal = true;\n            } else {\n                this.context.fileBrowser._closeSignal = false;\n            }\n        },\n\n        /**\n         * @description Event to close the window when the outside area of the browser or close button is click\n         * @param {MouseEvent} e Event object\n         * @private\n         */\n        _onClick_browser: function (e) {\n            e.stopPropagation();\n\n            if (/close/.test(e.target.getAttribute('data-command')) || this.context.fileBrowser._closeSignal) {\n                this.plugins.fileBrowser.close.call(this);\n            }\n        },\n\n        /**\n         * @description Open a file browser plugin\n         * @param {String} pluginName Plugin name using the file browser\n         * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\n         */\n        open: function (pluginName, selectorHandler)  {\n            if (this.plugins.fileBrowser._bindClose) {\n                this._d.removeEventListener('keydown', this.plugins.fileBrowser._bindClose);\n                this.plugins.fileBrowser._bindClose = null;\n            }\n\n            this.plugins.fileBrowser._bindClose = function (e) {\n                if (!/27/.test(e.keyCode)) return;\n                this.plugins.fileBrowser.close.call(this);\n            }.bind(this);\n            this._d.addEventListener('keydown', this.plugins.fileBrowser._bindClose);\n\n            const fileBrowserContext = this.context.fileBrowser;\n            fileBrowserContext.contextPlugin = pluginName;\n            fileBrowserContext.selectorHandler = selectorHandler;\n            \n            const pluginContext = this.context[pluginName];\n            const listClassName = pluginContext.listClass;\n            if (!this.util.hasClass(fileBrowserContext.list, listClassName)) {\n                fileBrowserContext.list.className = 'se-file-browser-list ' + listClassName;\n            }\n\n            if (this.options.popupDisplay === 'full') {\n                fileBrowserContext.area.style.position = 'fixed';\n            } else {\n                fileBrowserContext.area.style.position = 'absolute';\n            }\n            \n            fileBrowserContext.titleArea.textContent = pluginContext.title;\n            fileBrowserContext.area.style.display = 'block';\n\n            this.plugins.fileBrowser._drawFileList.call(this, this.context[pluginName].url, this.context[pluginName].header);\n        },\n\n        _bindClose: null,\n        \n        /**\n         * @description Close a fileBrowser plugin\n         * The plugin's \"init\" method is called.\n         */\n        close: function () {\n            const fileBrowserPlugin = this.plugins.fileBrowser;\n\n            if (fileBrowserPlugin._xmlHttp) {\n                fileBrowserPlugin._xmlHttp.abort();\n            }\n\n            if (fileBrowserPlugin._bindClose) {\n                this._d.removeEventListener('keydown', fileBrowserPlugin._bindClose);\n                fileBrowserPlugin._bindClose = null;\n            }\n\n            const fileBrowserContext = this.context.fileBrowser;\n            fileBrowserContext.area.style.display = 'none';\n            fileBrowserContext.selectorHandler = null;\n            fileBrowserContext.selectedTags = [];\n            fileBrowserContext.items = [];\n            fileBrowserContext.list.innerHTML = fileBrowserContext.tagArea.innerHTML = fileBrowserContext.titleArea.textContent = '';\n\n            if (typeof this.plugins[fileBrowserContext.contextPlugin].init === 'function') this.plugins[fileBrowserContext.contextPlugin].init.call(this);\n            fileBrowserContext.contextPlugin = '';\n        },\n\n        /**\n         * @description Show file browser loading box\n         */\n        showBrowserLoading: function () {\n            this._loading.style.display = 'block';\n        },\n\n        /**\n         * @description Close file browser loading box\n         */\n        closeBrowserLoading: function () {\n            this._loading.style.display = 'none';\n        },\n\n        _drawFileList: function (url, browserHeader) {\n            const fileBrowserPlugin = this.plugins.fileBrowser;\n\n            const xmlHttp = fileBrowserPlugin._xmlHttp = this.util.getXMLHttpRequest();\n            xmlHttp.onreadystatechange = fileBrowserPlugin._callBackGet.bind(this, xmlHttp);\n            xmlHttp.open('get', url, true);\n            if(browserHeader !== null && typeof browserHeader === 'object' && this._w.Object.keys(browserHeader).length > 0){\n                for(let key in browserHeader){\n                    xmlHttp.setRequestHeader(key, browserHeader[key]);\n                }\n            }\n            xmlHttp.send(null);\n\n            this.plugins.fileBrowser.showBrowserLoading();\n        },\n\n        _callBackGet: function (xmlHttp) {\n            if (xmlHttp.readyState === 4) {\n                this.plugins.fileBrowser._xmlHttp = null;\n                if (xmlHttp.status === 200) {\n                    try {\n                        const res = JSON.parse(xmlHttp.responseText);\n                        if (res.result.length > 0) {\n                            this.plugins.fileBrowser._drawListItem.call(this, res.result, true);\n                        } else if (res.nullMessage) {\n                            this.context.fileBrowser.list.innerHTML = res.nullMessage;\n                        }\n                    } catch (e) {\n                        throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : \"' + e.message + '\"');\n                    } finally {\n                        this.plugins.fileBrowser.closeBrowserLoading();\n                        this.context.fileBrowser.body.style.maxHeight = (this._w.innerHeight - this.context.fileBrowser.header.offsetHeight - 50) + 'px';\n                    }\n                } else { // exception\n                    this.plugins.fileBrowser.closeBrowserLoading();\n                    if (xmlHttp.status !== 0) {\n                        const res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\n                        const err = '[SUNEDITOR.fileBrowser.get.serverException] status: ' + xmlHttp.status + ', response: ' + (res.errorMessage || xmlHttp.responseText);\n                        throw Error(err);\n                    }\n                }\n            }\n        },\n\n        _drawListItem: function (items, update) {\n            const fileBrowserContext = this.context.fileBrowser;\n            const pluginContext = this.context[fileBrowserContext.contextPlugin];\n\n            const _tags = [];\n            const len = items.length;\n            const columnSize = pluginContext.columnSize || fileBrowserContext.columnSize;\n            const splitSize = columnSize <= 1 ? 1 : (Math.round(len/columnSize) || 1);\n            const drawItemHandler = pluginContext.itemTemplateHandler;\n            \n            let tagsHTML = '';\n            let listHTML = '<div class=\"se-file-item-column\">';\n            let columns = 1;\n            for (let i = 0, item, tags; i < len; i++) {\n                item = items[i];\n                tags = !item.tag ? [] : typeof item.tag === 'string' ? item.tag.split(',') : item.tag;\n                tags = item.tag = tags.map(function (v) { return v.trim(); });\n                listHTML += drawItemHandler(item);\n\n                if ((i + 1) % splitSize === 0 && columns < columnSize && (i + 1) < len) {\n                    columns++;\n                    listHTML += '</div><div class=\"se-file-item-column\">';\n                }\n                \n                if (update && tags.length > 0) {\n                    for (let t = 0, tLen = tags.length, tag; t < tLen; t++) {\n                        tag = tags[t];\n                        if (tag && _tags.indexOf(tag) === -1) {\n                            _tags.push(tag);\n                            tagsHTML += '<a title=\"' + tag + '\" aria-label=\"' + tag + '\">' + tag + '</a>';\n                        }\n                    }\n                }\n            }\n            listHTML += '</div>';\n\n            fileBrowserContext.list.innerHTML = listHTML;\n\n            if (update) {\n                fileBrowserContext.items = items;\n                fileBrowserContext.tagArea.innerHTML = tagsHTML;\n                fileBrowserContext.tagElements = fileBrowserContext.tagArea.querySelectorAll('A');\n            }\n        },\n\n        onClickTag: function (e) {\n            const target = e.target;\n            if (!this.util.isAnchor(target)) return;\n\n            const tagName = target.textContent;\n            const fileBrowserPlugin = this.plugins.fileBrowser;\n            const fileBrowserContext = this.context.fileBrowser;\n\n            const selectTag = fileBrowserContext.tagArea.querySelector('a[title=\"' + tagName + '\"]');\n            const selectedTags = fileBrowserContext.selectedTags;\n            const sTagIndex = selectedTags.indexOf(tagName);\n\n            if (sTagIndex > -1){\n                selectedTags.splice(sTagIndex, 1);\n                this.util.removeClass(selectTag, 'on');\n            } else {\n                selectedTags.push(tagName);\n                this.util.addClass(selectTag, 'on');\n            }\n\n            fileBrowserPlugin._drawListItem.call(this,\n                selectedTags.length === 0 ?\n                fileBrowserContext.items :\n                fileBrowserContext.items.filter(function (item) {\n                    return item.tag.some(function (tag) {\n                        return selectedTags.indexOf(tag) > -1;\n                    });\n                }), false);\n        },\n\n        onClickFile: function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            const fileBrowserContext = this.context.fileBrowser;\n            const listEl = fileBrowserContext.list;\n            let target = e.target;\n            let command = null;\n\n            if (target === listEl) return;\n\n            while (listEl !== target.parentNode) {\n                command = target.getAttribute('data-command');\n                if (command) break;\n                target = target.parentNode;\n            }\n\n            if (!command) return;\n\n            const handler = (fileBrowserContext.selectorHandler || this.context[fileBrowserContext.contextPlugin].selectorHandler);\n            handler(target, target.parentNode.querySelector('.__se__img_name').textContent);\n            this.plugins.fileBrowser.close.call(this);\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_MODULES) {\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'fileBrowser', {\n            enumerable: true,\n            writable: false,\n            configurable: false,\n            value: fileBrowser\n        });\n    }\n\n    return fileBrowser;\n}));"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}