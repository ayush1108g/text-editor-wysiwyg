{"ast":null,"code":"/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n  name: 'font',\n  display: 'submenu',\n  add: function (core, targetElement) {\n    const context = core.context;\n    context.font = {\n      targetText: targetElement.querySelector('.txt'),\n      targetTooltip: targetElement.parentNode.querySelector('.se-tooltip-text'),\n      _fontList: null,\n      currentFont: ''\n    };\n\n    /** set submenu */\n    let listDiv = this.setSubmenu(core);\n\n    /** add event listeners */\n    listDiv.querySelector('.se-list-inner').addEventListener('click', this.pickup.bind(core));\n    context.font._fontList = listDiv.querySelectorAll('ul li button');\n\n    /** append target button menu */\n    core.initMenuTarget(this.name, targetElement, listDiv);\n\n    /** empty memory */\n    listDiv = null;\n  },\n  setSubmenu: function (core) {\n    const lang = core.lang;\n    const listDiv = core.util.createElement('DIV');\n    listDiv.className = 'se-submenu se-list-layer se-list-font-family';\n    let font, text, i, len;\n    let fontList = core.options.font;\n    let list = '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\" aria-label=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n    for (i = 0, len = fontList.length; i < len; i++) {\n      font = fontList[i];\n      text = font.split(',')[0];\n      list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + font + '\" data-txt=\"' + text + '\" title=\"' + text + '\" aria-label=\"' + text + '\" style=\"font-family:' + font + ';\">' + text + '</button></li>';\n    }\n    list += '</ul></div>';\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n  /**\n  * @Override core\n  */\n  active: function (element) {\n    const target = this.context.font.targetText;\n    const tooltip = this.context.font.targetTooltip;\n    if (!element) {\n      const font = this.hasFocus ? this.wwComputedStyle.fontFamily : this.lang.toolbar.font;\n      this.util.changeTxt(target, font);\n      this.util.changeTxt(tooltip, this.hasFocus ? this.lang.toolbar.font + (font ? ' (' + font + ')' : '') : font);\n    } else if (element.style && element.style.fontFamily.length > 0) {\n      const selectFont = element.style.fontFamily.replace(/[\"']/g, '');\n      this.util.changeTxt(target, selectFont);\n      this.util.changeTxt(tooltip, this.lang.toolbar.font + ' (' + selectFont + ')');\n      return true;\n    }\n    return false;\n  },\n  /**\n  * @Override submenu\n  */\n  on: function () {\n    const fontContext = this.context.font;\n    const fontList = fontContext._fontList;\n    const currentFont = fontContext.targetText.textContent;\n    if (currentFont !== fontContext.currentFont) {\n      for (let i = 0, len = fontList.length; i < len; i++) {\n        if (currentFont === fontList[i].getAttribute('data-value')) {\n          this.util.addClass(fontList[i], 'active');\n        } else {\n          this.util.removeClass(fontList[i], 'active');\n        }\n      }\n      fontContext.currentFont = currentFont;\n    }\n  },\n  pickup: function (e) {\n    if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n    e.preventDefault();\n    e.stopPropagation();\n    const value = e.target.getAttribute('data-value');\n    if (value) {\n      const newNode = this.util.createElement('SPAN');\n      newNode.style.fontFamily = value;\n      this.nodeChange(newNode, ['font-family'], null, null);\n    } else {\n      this.nodeChange(null, ['font-family'], ['span'], true);\n    }\n    this.submenuOff();\n  }\n};","map":{"version":3,"names":["name","display","add","core","targetElement","context","font","targetText","querySelector","targetTooltip","parentNode","_fontList","currentFont","listDiv","setSubmenu","addEventListener","pickup","bind","querySelectorAll","initMenuTarget","lang","util","createElement","className","text","i","len","fontList","options","list","toolbar","default","length","split","innerHTML","active","element","target","tooltip","hasFocus","wwComputedStyle","fontFamily","changeTxt","style","selectFont","replace","on","fontContext","textContent","getAttribute","addClass","removeClass","e","test","tagName","preventDefault","stopPropagation","value","newNode","nodeChange","submenuOff"],"sources":["E:/Programming/React/New folder (2)/dynamicArt/dynamic-article/node_modules/suneditor/src/plugins/submenu/font.js"],"sourcesContent":["/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n    name: 'font',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.font = {\n            targetText: targetElement.querySelector('.txt'),\n            targetTooltip: targetElement.parentNode.querySelector('.se-tooltip-text'),\n            _fontList: null,\n            currentFont: ''\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu(core);\n\n        /** add event listeners */\n        listDiv.querySelector('.se-list-inner').addEventListener('click', this.pickup.bind(core));\n\n        context.font._fontList = listDiv.querySelectorAll('ul li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function (core) {\n        const lang = core.lang;\n        const listDiv = core.util.createElement('DIV');\n\n        listDiv.className = 'se-submenu se-list-layer se-list-font-family';\n\n        let font, text, i, len;\n        let fontList = core.options.font;\n\n        let list = '<div class=\"se-list-inner\">' +\n                '<ul class=\"se-list-basic\">' +\n                    '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\" aria-label=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n        for (i = 0, len = fontList.length; i < len; i++) {\n            font = fontList[i];\n            text = font.split(',')[0];\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + font + '\" data-txt=\"' + text + '\" title=\"' + text + '\" aria-label=\"' + text + '\" style=\"font-family:' + font + ';\">' + text + '</button></li>';\n        }\n        list += '</ul></div>';\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @Override core\n     */\n    active: function (element) {\n        const target = this.context.font.targetText;\n        const tooltip = this.context.font.targetTooltip;\n\n        if (!element) {\n            const font = this.hasFocus ? this.wwComputedStyle.fontFamily : this.lang.toolbar.font;\n            this.util.changeTxt(target, font);\n            this.util.changeTxt(tooltip, this.hasFocus ? this.lang.toolbar.font + (font ? ' (' + font + ')' : '') : font);\n        } else if (element.style && element.style.fontFamily.length > 0) {\n            const selectFont = element.style.fontFamily.replace(/[\"']/g,'');\n            this.util.changeTxt(target, selectFont);\n            this.util.changeTxt(tooltip, this.lang.toolbar.font + ' (' + selectFont + ')');\n            return true;\n        }\n\n        return false;\n    },\n\n     /**\n     * @Override submenu\n     */\n    on: function () {\n        const fontContext = this.context.font;\n        const fontList = fontContext._fontList;\n        const currentFont = fontContext.targetText.textContent;\n\n        if (currentFont !== fontContext.currentFont) {\n            for (let i = 0, len = fontList.length; i < len; i++) {\n                if (currentFont === fontList[i].getAttribute('data-value')) {\n                    this.util.addClass(fontList[i], 'active');\n                } else {\n                    this.util.removeClass(fontList[i], 'active');\n                }\n            }\n\n            fontContext.currentFont = currentFont;\n        }\n    },\n\n    pickup: function (e) {\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        const value = e.target.getAttribute('data-value');\n\n        if (value) {\n            const newNode = this.util.createElement('SPAN');\n            newNode.style.fontFamily = value;\n            this.nodeChange(newNode, ['font-family'], null, null);\n        } else {\n            this.nodeChange(null, ['font-family'], ['span'], true);\n        }\n        \n        this.submenuOff();\n    }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}