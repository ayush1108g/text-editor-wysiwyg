{"ast":null,"code":"/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\n'use strict';\n\nimport _icons from '../assets/defaultIcons';\nimport _defaultLang from '../lang/en';\nimport util from './util';\nexport default {\n  /**\r\n   * @description document create\r\n   * @param {Element} element Textarea\r\n   * @param {Object} options Options\r\n   * @returns {Object}\r\n   */\n  init: function (element, options) {\n    if (typeof options !== 'object') options = {};\n    const doc = document;\n\n    /** --- init options --- */\n    this._initOptions(element, options);\n\n    // suneditor div\n    const top_div = doc.createElement('DIV');\n    top_div.className = 'sun-editor' + (options.rtl ? ' se-rtl' : '');\n    if (element.id) top_div.id = 'suneditor_' + element.id;\n\n    // relative div\n    const relative = doc.createElement('DIV');\n    relative.className = 'se-container';\n\n    // toolbar\n    const tool_bar = this._createToolBar(doc, options.buttonList, options.plugins, options);\n    const toolbarShadow = tool_bar.element.cloneNode(false);\n    toolbarShadow.className += ' se-toolbar-shadow';\n    tool_bar.element.style.visibility = 'hidden';\n    if (tool_bar.pluginCallButtons.math) this._checkKatexMath(options.katex);\n    const arrow = doc.createElement('DIV');\n    arrow.className = 'se-arrow';\n\n    // sticky toolbar dummy\n    const sticky_dummy = doc.createElement('DIV');\n    sticky_dummy.className = 'se-toolbar-sticky-dummy';\n\n    // inner editor div\n    const editor_div = doc.createElement('DIV');\n    editor_div.className = 'se-wrapper';\n\n    /** --- init elements and create bottom bar --- */\n    const initElements = this._initElements(options, top_div, tool_bar.element, arrow);\n    const bottomBar = initElements.bottomBar;\n    const wysiwyg_div = initElements.wysiwygFrame;\n    const placeholder_span = initElements.placeholder;\n    let textarea = initElements.codeView;\n\n    // resizing bar\n    const resizing_bar = bottomBar.resizingBar;\n    const navigation = bottomBar.navigation;\n    const char_wrapper = bottomBar.charWrapper;\n    const char_counter = bottomBar.charCounter;\n\n    // loading box\n    const loading_box = doc.createElement('DIV');\n    loading_box.className = 'se-loading-box sun-editor-common';\n    loading_box.innerHTML = '<div class=\"se-loading-effect\"></div>';\n\n    // enter line\n    const line_breaker = doc.createElement('DIV');\n    line_breaker.className = 'se-line-breaker';\n    line_breaker.innerHTML = '<button class=\"se-btn\">' + options.icons.line_break + '</button>';\n    const line_breaker_t = doc.createElement('DIV');\n    line_breaker_t.className += 'se-line-breaker-component';\n    const line_breaker_b = line_breaker_t.cloneNode(true);\n    line_breaker_t.innerHTML = line_breaker_b.innerHTML = options.icons.line_break;\n\n    // resize operation background\n    const resize_back = doc.createElement('DIV');\n    resize_back.className = 'se-resizing-back';\n\n    // toolbar container\n    const toolbarContainer = options.toolbarContainer;\n    if (toolbarContainer) {\n      toolbarContainer.appendChild(tool_bar.element);\n      toolbarContainer.appendChild(toolbarShadow);\n    }\n\n    // resizingbar\n    const resizingBarContainer = options.resizingBarContainer;\n    if (resizing_bar && resizingBarContainer) resizingBarContainer.appendChild(resizing_bar);\n\n    /** append html */\n    editor_div.appendChild(textarea);\n    if (placeholder_span) editor_div.appendChild(placeholder_span);\n    if (!toolbarContainer) {\n      relative.appendChild(tool_bar.element);\n      relative.appendChild(toolbarShadow);\n    }\n    relative.appendChild(sticky_dummy);\n    relative.appendChild(editor_div);\n    relative.appendChild(resize_back);\n    relative.appendChild(loading_box);\n    relative.appendChild(line_breaker);\n    relative.appendChild(line_breaker_t);\n    relative.appendChild(line_breaker_b);\n    if (resizing_bar && !resizingBarContainer) relative.appendChild(resizing_bar);\n    top_div.appendChild(relative);\n    textarea = this._checkCodeMirror(options, textarea);\n    return {\n      constructed: {\n        _top: top_div,\n        _relative: relative,\n        _toolBar: tool_bar.element,\n        _toolbarShadow: toolbarShadow,\n        _menuTray: tool_bar._menuTray,\n        _editorArea: editor_div,\n        _wysiwygArea: wysiwyg_div,\n        _codeArea: textarea,\n        _placeholder: placeholder_span,\n        _resizingBar: resizing_bar,\n        _navigation: navigation,\n        _charWrapper: char_wrapper,\n        _charCounter: char_counter,\n        _loading: loading_box,\n        _lineBreaker: line_breaker,\n        _lineBreaker_t: line_breaker_t,\n        _lineBreaker_b: line_breaker_b,\n        _resizeBack: resize_back,\n        _stickyDummy: sticky_dummy,\n        _arrow: arrow\n      },\n      options: options,\n      plugins: tool_bar.plugins,\n      pluginCallButtons: tool_bar.pluginCallButtons,\n      _responsiveButtons: tool_bar.responsiveButtons\n    };\n  },\n  /**\r\n   * @description Check the CodeMirror option to apply the CodeMirror and return the CodeMirror element.\r\n   * @param {Object} options options\r\n   * @param {Element} textarea textarea element\r\n   * @private\r\n   */\n  _checkCodeMirror: function (options, textarea) {\n    if (options.codeMirror) {\n      const cmOptions = [{\n        mode: 'htmlmixed',\n        htmlMode: true,\n        lineNumbers: true,\n        lineWrapping: true\n      }, options.codeMirror.options || {}].reduce(function (init, option) {\n        for (let key in option) {\n          if (util.hasOwn(option, key)) init[key] = option[key];\n        }\n        return init;\n      }, {});\n      if (options.height === 'auto') {\n        cmOptions.viewportMargin = Infinity;\n        cmOptions.height = 'auto';\n      }\n      const cm = options.codeMirror.src.fromTextArea(textarea, cmOptions);\n      cm.display.wrapper.style.cssText = textarea.style.cssText;\n      options.codeMirrorEditor = cm;\n      textarea = cm.display.wrapper;\n      textarea.className += ' se-wrapper-code-mirror';\n    }\n    return textarea;\n  },\n  /**\r\n   * @description Check for a katex object.\r\n   * @param {Object} katex katex object\r\n   * @private\r\n   */\n  _checkKatexMath: function (katex) {\n    if (!katex) throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a \"katex\" object to the options.');\n    const katexOptions = [{\n      throwOnError: false\n    }, katex.options || {}].reduce(function (init, option) {\n      for (let key in option) {\n        if (util.hasOwn(option, key)) init[key] = option[key];\n      }\n      return init;\n    }, {});\n    katex.options = katexOptions;\n  },\n  /**\r\n   * @description Add or reset options\r\n   * @param {Object} mergeOptions New options property\r\n   * @param {Object} context Context object of core\r\n   * @param {Object} originOptions Origin options\r\n   * @returns {Object} pluginCallButtons\r\n   * @private\r\n   */\n  _setOptions: function (mergeOptions, context, originOptions) {\n    this._initOptions(context.element.originElement, mergeOptions);\n    const el = context.element;\n    const relative = el.relative;\n    const editorArea = el.editorArea;\n    const isNewToolbarContainer = mergeOptions.toolbarContainer && mergeOptions.toolbarContainer !== originOptions.toolbarContainer;\n    const isNewToolbar = mergeOptions.lang !== originOptions.lang || mergeOptions.buttonList !== originOptions.buttonList || mergeOptions.mode !== originOptions.mode || isNewToolbarContainer;\n    const tool_bar = this._createToolBar(document, isNewToolbar ? mergeOptions.buttonList : originOptions.buttonList, mergeOptions.plugins, mergeOptions);\n    if (tool_bar.pluginCallButtons.math) this._checkKatexMath(mergeOptions.katex);\n    const arrow = document.createElement('DIV');\n    arrow.className = 'se-arrow';\n    if (isNewToolbar) {\n      tool_bar.element.style.visibility = 'hidden';\n      // toolbar container\n      if (isNewToolbarContainer) {\n        mergeOptions.toolbarContainer.appendChild(tool_bar.element);\n        el.toolbar.parentElement.removeChild(el.toolbar);\n      } else {\n        el.toolbar.parentElement.replaceChild(tool_bar.element, el.toolbar);\n      }\n      el.toolbar = tool_bar.element;\n      el._menuTray = tool_bar._menuTray;\n      el._arrow = arrow;\n    }\n    const initElements = this._initElements(mergeOptions, el.topArea, isNewToolbar ? tool_bar.element : el.toolbar, arrow);\n    const bottomBar = initElements.bottomBar;\n    const wysiwygFrame = initElements.wysiwygFrame;\n    const placeholder_span = initElements.placeholder;\n    let code = initElements.codeView;\n    if (el.resizingBar) util.removeItem(el.resizingBar);\n    if (bottomBar.resizingBar) {\n      if (mergeOptions.resizingBarContainer && mergeOptions.resizingBarContainer !== originOptions.resizingBarContainer) {\n        mergeOptions.resizingBarContainer.appendChild(bottomBar.resizingBar);\n      } else {\n        relative.appendChild(bottomBar.resizingBar);\n      }\n    }\n    editorArea.innerHTML = '';\n    editorArea.appendChild(code);\n    if (placeholder_span) editorArea.appendChild(placeholder_span);\n    code = this._checkCodeMirror(mergeOptions, code);\n    el.resizingBar = bottomBar.resizingBar;\n    el.navigation = bottomBar.navigation;\n    el.charWrapper = bottomBar.charWrapper;\n    el.charCounter = bottomBar.charCounter;\n    el.wysiwygFrame = wysiwygFrame;\n    el.code = code;\n    el.placeholder = placeholder_span;\n    if (mergeOptions.rtl) util.addClass(el.topArea, 'se-rtl');else util.removeClass(el.topArea, 'se-rtl');\n    return {\n      callButtons: tool_bar.pluginCallButtons,\n      plugins: tool_bar.plugins,\n      toolbar: tool_bar\n    };\n  },\n  /**\r\n   * @description Initialize property of suneditor elements\r\n   * @param {Object} options Options\r\n   * @param {Element} topDiv Suneditor top div\r\n   * @param {Element} toolBar Tool bar\r\n   * @param {Element} toolBarArrow Tool bar arrow (balloon editor)\r\n   * @returns {Object} Bottom bar elements (resizingBar, navigation, charWrapper, charCounter)\r\n   * @private\r\n   */\n  _initElements: function (options, topDiv, toolBar, toolBarArrow) {\n    /** top div */\n    topDiv.style.cssText = options._editorStyles.top;\n\n    /** toolbar */\n    if (/inline/i.test(options.mode)) {\n      toolBar.className += ' se-toolbar-inline';\n      toolBar.style.width = options.toolbarWidth;\n    } else if (/balloon/i.test(options.mode)) {\n      toolBar.className += ' se-toolbar-balloon';\n      toolBar.style.width = options.toolbarWidth;\n      toolBar.appendChild(toolBarArrow);\n    }\n\n    /** editor */\n    // wysiwyg div or iframe\n    const wysiwygDiv = document.createElement(!options.iframe ? 'DIV' : 'IFRAME');\n    wysiwygDiv.className = 'se-wrapper-inner se-wrapper-wysiwyg';\n    if (!options.iframe) {\n      wysiwygDiv.setAttribute('contenteditable', true);\n      wysiwygDiv.setAttribute('scrolling', 'auto');\n      for (let key in options.iframeAttributes) {\n        wysiwygDiv.setAttribute(key, options.iframeAttributes[key]);\n      }\n      wysiwygDiv.className += ' ' + options._editableClass;\n      wysiwygDiv.style.cssText = options._editorStyles.frame + options._editorStyles.editor;\n      wysiwygDiv.className += options.className;\n    } else {\n      wysiwygDiv.allowFullscreen = true;\n      wysiwygDiv.frameBorder = 0;\n      wysiwygDiv.style.cssText = options._editorStyles.frame;\n      wysiwygDiv.className += options.className;\n    }\n\n    // textarea for code view\n    const textarea = document.createElement('TEXTAREA');\n    textarea.className = 'se-wrapper-inner se-wrapper-code' + options.className;\n    textarea.style.cssText = options._editorStyles.frame;\n    textarea.style.display = 'none';\n    if (options.height === 'auto') textarea.style.overflow = 'hidden';\n\n    /** resize bar */\n    let resizingBar = null;\n    let navigation = null;\n    let charWrapper = null;\n    let charCounter = null;\n    if (options.resizingBar) {\n      resizingBar = document.createElement('DIV');\n      resizingBar.className = 'se-resizing-bar sun-editor-common';\n\n      /** navigation */\n      navigation = document.createElement('DIV');\n      navigation.className = 'se-navigation sun-editor-common';\n      resizingBar.appendChild(navigation);\n\n      /** char counter */\n      if (options.charCounter) {\n        charWrapper = document.createElement('DIV');\n        charWrapper.className = 'se-char-counter-wrapper';\n        if (options.charCounterLabel) {\n          const charLabel = document.createElement('SPAN');\n          charLabel.className = 'se-char-label';\n          charLabel.textContent = options.charCounterLabel;\n          charWrapper.appendChild(charLabel);\n        }\n        charCounter = document.createElement('SPAN');\n        charCounter.className = 'se-char-counter';\n        charCounter.textContent = '0';\n        charWrapper.appendChild(charCounter);\n        if (options.maxCharCount > 0) {\n          const char_max = document.createElement('SPAN');\n          char_max.textContent = ' / ' + options.maxCharCount;\n          charWrapper.appendChild(char_max);\n        }\n        resizingBar.appendChild(charWrapper);\n      }\n    }\n    let placeholder = null;\n    if (options.placeholder) {\n      placeholder = document.createElement('SPAN');\n      placeholder.className = 'se-placeholder';\n      placeholder.innerText = options.placeholder;\n    }\n    return {\n      bottomBar: {\n        resizingBar: resizingBar,\n        navigation: navigation,\n        charWrapper: charWrapper,\n        charCounter: charCounter\n      },\n      wysiwygFrame: wysiwygDiv,\n      codeView: textarea,\n      placeholder: placeholder\n    };\n  },\n  /**\r\n   * @description Initialize options\r\n   * @param {Element} element Options object\r\n   * @param {Object} options Options object\r\n   * @private\r\n   */\n  _initOptions: function (element, options) {\n    const plugins = {};\n    if (options.plugins) {\n      const _plugins = options.plugins;\n      const pluginsValues = _plugins.length ? _plugins : Object.keys(_plugins).map(function (name) {\n        return _plugins[name];\n      });\n      for (let i = 0, len = pluginsValues.length, p; i < len; i++) {\n        p = pluginsValues[i].default || pluginsValues[i];\n        plugins[p.name] = p;\n      }\n    }\n    options.plugins = plugins;\n    /** Values */\n    options.lang = options.lang || _defaultLang;\n    options.value = typeof options.value === 'string' ? options.value : null;\n    options.allowedClassNames = new util._w.RegExp((options.allowedClassNames && typeof options.allowedClassNames === 'string' ? options.allowedClassNames + '|' : '') + '^__se__|se-|katex');\n    options.historyStackDelayTime = typeof options.historyStackDelayTime === 'number' ? options.historyStackDelayTime : 400;\n    options.frameAttrbutes = options.frameAttrbutes || {};\n    // tag style\n    options.defaultTag = typeof options.defaultTag === 'string' && options.defaultTag.length > 0 ? options.defaultTag : 'p';\n    const textTags = options.textTags = [{\n      bold: 'STRONG',\n      underline: 'U',\n      italic: 'EM',\n      strike: 'DEL',\n      sub: 'SUB',\n      sup: 'SUP'\n    }, options.textTags || {}].reduce(function (_default, _new) {\n      for (let key in _new) {\n        _default[key] = _new[key];\n      }\n      return _default;\n    }, {});\n    options._textTagsMap = {\n      'strong': textTags.bold.toLowerCase(),\n      'b': textTags.bold.toLowerCase(),\n      'u': textTags.underline.toLowerCase(),\n      'ins': textTags.underline.toLowerCase(),\n      'em': textTags.italic.toLowerCase(),\n      'i': textTags.italic.toLowerCase(),\n      'del': textTags.strike.toLowerCase(),\n      'strike': textTags.strike.toLowerCase(),\n      's': textTags.strike.toLowerCase(),\n      'sub': textTags.sub.toLowerCase(),\n      'sup': textTags.sup.toLowerCase()\n    };\n    options._defaultCommand = {\n      bold: options.textTags.bold,\n      underline: options.textTags.underline,\n      italic: options.textTags.italic,\n      strike: options.textTags.strike,\n      subscript: options.textTags.sub,\n      superscript: options.textTags.sup\n    };\n    /** Whitelist, Blacklist */\n    options.__allowedScriptTag = options.__allowedScriptTag === true;\n    const whitelist = 'br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path|details|summary';\n    // tags\n    options.tagsBlacklist = options.tagsBlacklist || '';\n    options._defaultTagsWhitelist = (typeof options._defaultTagsWhitelist === 'string' ? options._defaultTagsWhitelist : whitelist) + (options.__allowedScriptTag ? '|script' : '');\n    options._editorTagsWhitelist = options.addTagsWhitelist === '*' ? '*' : this._setWhitelist(options._defaultTagsWhitelist + (typeof options.addTagsWhitelist === 'string' && options.addTagsWhitelist.length > 0 ? '|' + options.addTagsWhitelist : ''), options.tagsBlacklist);\n    // paste tags\n    options.pasteTagsBlacklist = options.tagsBlacklist + (options.tagsBlacklist && options.pasteTagsBlacklist ? '|' + options.pasteTagsBlacklist : options.pasteTagsBlacklist || '');\n    options.pasteTagsWhitelist = options.pasteTagsWhitelist === '*' ? '*' : this._setWhitelist(typeof options.pasteTagsWhitelist === 'string' ? options.pasteTagsWhitelist : options._editorTagsWhitelist, options.pasteTagsBlacklist);\n    // tag attributes\n    options.attributesWhitelist = !options.attributesWhitelist || typeof options.attributesWhitelist !== 'object' ? null : options.attributesWhitelist;\n    options.attributesBlacklist = !options.attributesBlacklist || typeof options.attributesBlacklist !== 'object' ? null : options.attributesBlacklist;\n    /** Layout */\n    options.mode = options.mode || 'classic'; // classic, inline, balloon, balloon-always\n    options.rtl = !!options.rtl;\n    options.lineAttrReset = ['id'].concat(options.lineAttrReset && typeof options.lineAttrReset === 'string' ? options.lineAttrReset.toLowerCase().split('|') : []);\n    options._editableClass = 'sun-editor-editable' + (options.rtl ? ' se-rtl' : '');\n    options._printClass = typeof options._printClass === 'string' ? options._printClass : null;\n    options.toolbarWidth = options.toolbarWidth ? util.isNumber(options.toolbarWidth) ? options.toolbarWidth + 'px' : options.toolbarWidth : 'auto';\n    options.toolbarContainer = typeof options.toolbarContainer === 'string' ? document.querySelector(options.toolbarContainer) : options.toolbarContainer;\n    options.stickyToolbar = /balloon/i.test(options.mode) || !!options.toolbarContainer ? -1 : options.stickyToolbar === undefined ? 0 : /^\\d+/.test(options.stickyToolbar) ? util.getNumber(options.stickyToolbar, 0) : -1;\n    options.hideToolbar = !!options.hideToolbar;\n    options.fullScreenOffset = options.fullScreenOffset === undefined ? 0 : /^\\d+/.test(options.fullScreenOffset) ? util.getNumber(options.fullScreenOffset, 0) : 0;\n    options.fullPage = !!options.fullPage;\n    options.iframe = options.fullPage || !!options.iframe;\n    options.iframeAttributes = options.iframeAttributes || {};\n    options.iframeCSSFileName = options.iframe ? typeof options.iframeCSSFileName === 'string' ? [options.iframeCSSFileName] : options.iframeCSSFileName || ['suneditor'] : null;\n    options.previewTemplate = typeof options.previewTemplate === 'string' ? options.previewTemplate : null;\n    options.printTemplate = typeof options.printTemplate === 'string' ? options.printTemplate : null;\n    /** CodeMirror object */\n    options.codeMirror = options.codeMirror ? options.codeMirror.src ? options.codeMirror : {\n      src: options.codeMirror\n    } : null;\n    /** katex object (Math plugin) */\n    options.katex = options.katex ? options.katex.src ? options.katex : {\n      src: options.katex\n    } : null;\n    options.mathFontSize = !!options.mathFontSize ? options.mathFontSize : [{\n      text: '1',\n      value: '1em'\n    }, {\n      text: '1.5',\n      value: '1.5em'\n    }, {\n      text: '2',\n      value: '2em'\n    }, {\n      text: '2.5',\n      value: '2.5em'\n    }];\n    /** Display */\n    options.position = typeof options.position === 'string' ? options.position : null;\n    options.display = options.display || (element.style.display === 'none' || !element.style.display ? 'block' : element.style.display);\n    options.popupDisplay = options.popupDisplay || 'full';\n    /** Bottom resizing bar */\n    options.resizingBar = options.resizingBar === undefined ? /inline|balloon/i.test(options.mode) ? false : true : options.resizingBar;\n    options.showPathLabel = !options.resizingBar ? false : typeof options.showPathLabel === 'boolean' ? options.showPathLabel : true;\n    options.resizeEnable = options.resizeEnable === undefined ? true : !!options.resizeEnable;\n    options.resizingBarContainer = typeof options.resizingBarContainer === 'string' ? document.querySelector(options.resizingBarContainer) : options.resizingBarContainer;\n    /** Character count */\n    options.charCounter = options.maxCharCount > 0 ? true : typeof options.charCounter === 'boolean' ? options.charCounter : false;\n    options.charCounterType = typeof options.charCounterType === 'string' ? options.charCounterType : 'char';\n    options.charCounterLabel = typeof options.charCounterLabel === 'string' ? options.charCounterLabel.trim() : null;\n    options.maxCharCount = util.isNumber(options.maxCharCount) && options.maxCharCount > -1 ? options.maxCharCount * 1 : null;\n    /** Width size */\n    options.width = options.width ? util.isNumber(options.width) ? options.width + 'px' : options.width : element.clientWidth ? element.clientWidth + 'px' : '100%';\n    options.minWidth = (util.isNumber(options.minWidth) ? options.minWidth + 'px' : options.minWidth) || '';\n    options.maxWidth = (util.isNumber(options.maxWidth) ? options.maxWidth + 'px' : options.maxWidth) || '';\n    /** Height size */\n    options.height = options.height ? util.isNumber(options.height) ? options.height + 'px' : options.height : element.clientHeight ? element.clientHeight + 'px' : 'auto';\n    options.minHeight = (util.isNumber(options.minHeight) ? options.minHeight + 'px' : options.minHeight) || '';\n    options.maxHeight = (util.isNumber(options.maxHeight) ? options.maxHeight + 'px' : options.maxHeight) || '';\n    /** Editing area */\n    options.className = typeof options.className === 'string' && options.className.length > 0 ? ' ' + options.className : '';\n    options.defaultStyle = typeof options.defaultStyle === 'string' ? options.defaultStyle : '';\n    /** Defining menu items */\n    options.font = !options.font ? ['Arial', 'Comic Sans MS', 'Courier New', 'Impact', 'Georgia', 'tahoma', 'Trebuchet MS', 'Verdana'] : options.font;\n    options.fontSize = !options.fontSize ? null : options.fontSize;\n    options.formats = !options.formats ? null : options.formats;\n    options.colorList = !options.colorList ? null : options.colorList;\n    options.lineHeights = !options.lineHeights ? null : options.lineHeights;\n    options.paragraphStyles = !options.paragraphStyles ? null : options.paragraphStyles;\n    options.textStyles = !options.textStyles ? null : options.textStyles;\n    options.fontSizeUnit = typeof options.fontSizeUnit === 'string' ? options.fontSizeUnit.trim().toLowerCase() || 'px' : 'px';\n    options.alignItems = typeof options.alignItems === 'object' ? options.alignItems : options.rtl ? ['right', 'center', 'left', 'justify'] : ['left', 'center', 'right', 'justify'];\n    /** Image */\n    options.imageResizing = options.imageResizing === undefined ? true : options.imageResizing;\n    options.imageHeightShow = options.imageHeightShow === undefined ? true : !!options.imageHeightShow;\n    options.imageAlignShow = options.imageAlignShow === undefined ? true : !!options.imageAlignShow;\n    options.imageWidth = !options.imageWidth ? 'auto' : util.isNumber(options.imageWidth) ? options.imageWidth + 'px' : options.imageWidth;\n    options.imageHeight = !options.imageHeight ? 'auto' : util.isNumber(options.imageHeight) ? options.imageHeight + 'px' : options.imageHeight;\n    options.imageSizeOnlyPercentage = !!options.imageSizeOnlyPercentage;\n    options._imageSizeUnit = options.imageSizeOnlyPercentage ? '%' : 'px';\n    options.imageRotation = options.imageRotation !== undefined ? options.imageRotation : !(options.imageSizeOnlyPercentage || !options.imageHeightShow);\n    options.imageFileInput = options.imageFileInput === undefined ? true : options.imageFileInput;\n    options.imageUrlInput = options.imageUrlInput === undefined || !options.imageFileInput ? true : options.imageUrlInput;\n    options.imageUploadHeader = options.imageUploadHeader || null;\n    options.imageUploadUrl = typeof options.imageUploadUrl === 'string' ? options.imageUploadUrl : null;\n    options.imageUploadSizeLimit = /\\d+/.test(options.imageUploadSizeLimit) ? util.getNumber(options.imageUploadSizeLimit, 0) : null;\n    options.imageMultipleFile = !!options.imageMultipleFile;\n    options.imageAccept = typeof options.imageAccept !== 'string' || options.imageAccept.trim() === \"*\" ? 'image/*' : options.imageAccept.trim() || 'image/*';\n    /** Image - image gallery */\n    options.imageGalleryUrl = typeof options.imageGalleryUrl === 'string' ? options.imageGalleryUrl : null;\n    options.imageGalleryHeader = options.imageGalleryHeader || null;\n    /** Video */\n    options.videoResizing = options.videoResizing === undefined ? true : options.videoResizing;\n    options.videoHeightShow = options.videoHeightShow === undefined ? true : !!options.videoHeightShow;\n    options.videoAlignShow = options.videoAlignShow === undefined ? true : !!options.videoAlignShow;\n    options.videoRatioShow = options.videoRatioShow === undefined ? true : !!options.videoRatioShow;\n    options.videoWidth = !options.videoWidth || !util.getNumber(options.videoWidth, 0) ? '' : util.isNumber(options.videoWidth) ? options.videoWidth + 'px' : options.videoWidth;\n    options.videoHeight = !options.videoHeight || !util.getNumber(options.videoHeight, 0) ? '' : util.isNumber(options.videoHeight) ? options.videoHeight + 'px' : options.videoHeight;\n    options.videoSizeOnlyPercentage = !!options.videoSizeOnlyPercentage;\n    options._videoSizeUnit = options.videoSizeOnlyPercentage ? '%' : 'px';\n    options.videoRotation = options.videoRotation !== undefined ? options.videoRotation : !(options.videoSizeOnlyPercentage || !options.videoHeightShow);\n    options.videoRatio = util.getNumber(options.videoRatio, 4) || 0.5625;\n    options.videoRatioList = !options.videoRatioList ? null : options.videoRatioList;\n    options.youtubeQuery = (options.youtubeQuery || '').replace('?', '');\n    options.videoFileInput = !!options.videoFileInput;\n    options.videoUrlInput = options.videoUrlInput === undefined || !options.videoFileInput ? true : options.videoUrlInput;\n    options.videoUploadHeader = options.videoUploadHeader || null;\n    options.videoUploadUrl = typeof options.videoUploadUrl === 'string' ? options.videoUploadUrl : null;\n    options.videoUploadSizeLimit = /\\d+/.test(options.videoUploadSizeLimit) ? util.getNumber(options.videoUploadSizeLimit, 0) : null;\n    options.videoMultipleFile = !!options.videoMultipleFile;\n    options.videoTagAttrs = options.videoTagAttrs || null;\n    options.videoIframeAttrs = options.videoIframeAttrs || null;\n    options.videoAccept = typeof options.videoAccept !== 'string' || options.videoAccept.trim() === \"*\" ? 'video/*' : options.videoAccept.trim() || 'video/*';\n    /** Audio */\n    options.audioWidth = !options.audioWidth ? '' : util.isNumber(options.audioWidth) ? options.audioWidth + 'px' : options.audioWidth;\n    options.audioHeight = !options.audioHeight ? '' : util.isNumber(options.audioHeight) ? options.audioHeight + 'px' : options.audioHeight;\n    options.audioFileInput = !!options.audioFileInput;\n    options.audioUrlInput = options.audioUrlInput === undefined || !options.audioFileInput ? true : options.audioUrlInput;\n    options.audioUploadHeader = options.audioUploadHeader || null;\n    options.audioUploadUrl = typeof options.audioUploadUrl === 'string' ? options.audioUploadUrl : null;\n    options.audioUploadSizeLimit = /\\d+/.test(options.audioUploadSizeLimit) ? util.getNumber(options.audioUploadSizeLimit, 0) : null;\n    options.audioMultipleFile = !!options.audioMultipleFile;\n    options.audioTagAttrs = options.audioTagAttrs || null;\n    options.audioAccept = typeof options.audioAccept !== 'string' || options.audioAccept.trim() === \"*\" ? 'audio/*' : options.audioAccept.trim() || 'audio/*';\n    /** Table */\n    options.tableCellControllerPosition = typeof options.tableCellControllerPosition === 'string' ? options.tableCellControllerPosition.toLowerCase() : 'cell';\n    /** Link */\n    options.linkTargetNewWindow = !!options.linkTargetNewWindow;\n    options.linkProtocol = typeof options.linkProtocol === 'string' ? options.linkProtocol : null;\n    options.linkRel = Array.isArray(options.linkRel) ? options.linkRel : [];\n    options.linkRelDefault = options.linkRelDefault || {};\n    /** HR */\n    // options.hrItems = options.hrItems;\n    /** Key actions */\n    options.tabDisable = !!options.tabDisable;\n    options.shortcutsDisable = Array.isArray(options.shortcutsDisable) ? options.shortcutsDisable : [];\n    options.shortcutsHint = options.shortcutsHint === undefined ? true : !!options.shortcutsHint;\n    /** Defining save button */\n    options.callBackSave = !options.callBackSave ? null : options.callBackSave;\n    /** Templates Array */\n    options.templates = !options.templates ? null : options.templates;\n    /** ETC */\n    options.placeholder = typeof options.placeholder === 'string' ? options.placeholder : null;\n    options.mediaAutoSelect = options.mediaAutoSelect === undefined ? true : !!options.mediaAutoSelect;\n    /** Buttons */\n    options.buttonList = !!options.buttonList ? options.buttonList : [['undo', 'redo'], ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'], ['removeFormat'], ['outdent', 'indent'], ['fullScreen', 'showBlocks', 'codeView'], ['preview', 'print']];\n\n    /** RTL - buttons */\n    if (options.rtl) {\n      options.buttonList = options.buttonList.reverse();\n    }\n\n    /** --- Define icons --- */\n    // custom icons\n    options.icons = !options.icons || typeof options.icons !== 'object' ? _icons : [_icons, options.icons].reduce(function (_default, _new) {\n      for (let key in _new) {\n        if (util.hasOwn(_new, key)) _default[key] = _new[key];\n      }\n      return _default;\n    }, {});\n    // rtl icons\n    options.icons = !options.rtl ? options.icons : [options.icons, options.icons.rtl].reduce(function (_default, _new) {\n      for (let key in _new) {\n        if (util.hasOwn(_new, key)) _default[key] = _new[key];\n      }\n      return _default;\n    }, {});\n\n    /** Private options */\n    options.__listCommonStyle = options.__listCommonStyle || ['fontSize', 'color', 'fontFamily', 'fontWeight', 'fontStyle'];\n\n    /** _init options */\n    options._editorStyles = util._setDefaultOptionStyle(options, options.defaultStyle);\n  },\n  _setWhitelist: function (whitelist, blacklist) {\n    if (typeof blacklist !== 'string') return whitelist;\n    blacklist = blacklist.split('|');\n    whitelist = whitelist.split('|');\n    for (let i = 0, len = blacklist.length, index; i < len; i++) {\n      index = whitelist.indexOf(blacklist[i]);\n      if (index > -1) whitelist.splice(index, 1);\n    }\n    return whitelist.join('|');\n  },\n  /**\r\n   * @description Suneditor's Default button list\r\n   * @param {Object} options options\r\n   * @private\r\n   */\n  _defaultButtons: function (options) {\n    const icons = options.icons;\n    const lang = options.lang;\n    const cmd = util.isOSX_IOS ? '⌘' : 'CTRL';\n    const addShift = util.isOSX_IOS ? '⇧' : '+SHIFT';\n    const shortcutsDisable = !options.shortcutsHint ? ['bold', 'strike', 'underline', 'italic', 'undo', 'indent', 'save'] : options.shortcutsDisable;\n    const indentKey = options.rtl ? ['[', ']'] : [']', '['];\n    const indentIcon = options.rtl ? [icons.outdent, icons.indent] : [icons.indent, icons.outdent];\n    return {\n      /** default command */\n      bold: ['', lang.toolbar.bold + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('bold') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">B</span>') + '</span>', 'bold', '', icons.bold],\n      underline: ['', lang.toolbar.underline + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('underline') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">U</span>') + '</span>', 'underline', '', icons.underline],\n      italic: ['', lang.toolbar.italic + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('italic') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">I</span>') + '</span>', 'italic', '', icons.italic],\n      strike: ['', lang.toolbar.strike + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('strike') > -1 ? '' : cmd + addShift + '+<span class=\"se-shortcut-key\">S</span>') + '</span>', 'strike', '', icons.strike],\n      subscript: ['', lang.toolbar.subscript, 'SUB', '', icons.subscript],\n      superscript: ['', lang.toolbar.superscript, 'SUP', '', icons.superscript],\n      removeFormat: ['', lang.toolbar.removeFormat, 'removeFormat', '', icons.erase],\n      indent: ['', lang.toolbar.indent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[0] + '</span>') + '</span>', 'indent', '', indentIcon[0]],\n      outdent: ['', lang.toolbar.outdent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[1] + '</span>') + '</span>', 'outdent', '', indentIcon[1]],\n      fullScreen: ['se-code-view-enabled se-resizing-enabled', lang.toolbar.fullScreen, 'fullScreen', '', icons.expansion],\n      showBlocks: ['', lang.toolbar.showBlocks, 'showBlocks', '', icons.show_blocks],\n      codeView: ['se-code-view-enabled se-resizing-enabled', lang.toolbar.codeView, 'codeView', '', icons.code_view],\n      undo: ['', lang.toolbar.undo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'undo', '', icons.undo],\n      redo: ['', lang.toolbar.redo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Y</span> / ' + cmd + addShift + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'redo', '', icons.redo],\n      preview: ['se-resizing-enabled', lang.toolbar.preview, 'preview', '', icons.preview],\n      print: ['se-resizing-enabled', lang.toolbar.print, 'print', '', icons.print],\n      dir: ['', lang.toolbar[options.rtl ? 'dir_ltr' : 'dir_rtl'], 'dir', '', icons[options.rtl ? 'dir_ltr' : 'dir_rtl']],\n      dir_ltr: ['', lang.toolbar.dir_ltr, 'dir_ltr', '', icons.dir_ltr],\n      dir_rtl: ['', lang.toolbar.dir_rtl, 'dir_rtl', '', icons.dir_rtl],\n      save: ['se-resizing-enabled', lang.toolbar.save + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('save') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">S</span>') + '</span>', 'save', '', icons.save],\n      /** plugins - command */\n      blockquote: ['', lang.toolbar.tag_blockquote, 'blockquote', 'command', icons.blockquote],\n      /** plugins - submenu */\n      font: ['se-btn-select se-btn-tool-font', lang.toolbar.font, 'font', 'submenu', '<span class=\"txt\">' + lang.toolbar.font + '</span>' + icons.arrow_down],\n      formatBlock: ['se-btn-select se-btn-tool-format', lang.toolbar.formats, 'formatBlock', 'submenu', '<span class=\"txt\">' + lang.toolbar.formats + '</span>' + icons.arrow_down],\n      fontSize: ['se-btn-select se-btn-tool-size', lang.toolbar.fontSize, 'fontSize', 'submenu', '<span class=\"txt\">' + lang.toolbar.fontSize + '</span>' + icons.arrow_down],\n      fontColor: ['', lang.toolbar.fontColor, 'fontColor', 'submenu', icons.font_color],\n      hiliteColor: ['', lang.toolbar.hiliteColor, 'hiliteColor', 'submenu', icons.highlight_color],\n      align: ['se-btn-align', lang.toolbar.align, 'align', 'submenu', options.rtl ? icons.align_right : icons.align_left],\n      list: ['', lang.toolbar.list, 'list', 'submenu', icons.list_number],\n      horizontalRule: ['btn_line', lang.toolbar.horizontalRule, 'horizontalRule', 'submenu', icons.horizontal_rule],\n      table: ['', lang.toolbar.table, 'table', 'submenu', icons.table],\n      lineHeight: ['', lang.toolbar.lineHeight, 'lineHeight', 'submenu', icons.line_height],\n      template: ['', lang.toolbar.template, 'template', 'submenu', icons.template],\n      paragraphStyle: ['', lang.toolbar.paragraphStyle, 'paragraphStyle', 'submenu', icons.paragraph_style],\n      textStyle: ['', lang.toolbar.textStyle, 'textStyle', 'submenu', icons.text_style],\n      /** plugins - dialog */\n      link: ['', lang.toolbar.link, 'link', 'dialog', icons.link],\n      image: ['', lang.toolbar.image, 'image', 'dialog', icons.image],\n      video: ['', lang.toolbar.video, 'video', 'dialog', icons.video],\n      audio: ['', lang.toolbar.audio, 'audio', 'dialog', icons.audio],\n      math: ['', lang.toolbar.math, 'math', 'dialog', icons.math],\n      /** plugins - fileBrowser */\n      imageGallery: ['', lang.toolbar.imageGallery, 'imageGallery', 'fileBrowser', icons.image_gallery]\n    };\n  },\n  /**\r\n   * @description Create a group div containing each module\r\n   * @returns {Object}\r\n   * @private\r\n   */\n  _createModuleGroup: function () {\n    const oDiv = util.createElement('DIV');\n    oDiv.className = 'se-btn-module se-btn-module-border';\n    const oUl = util.createElement('UL');\n    oUl.className = 'se-menu-list';\n    oDiv.appendChild(oUl);\n    return {\n      'div': oDiv,\n      'ul': oUl\n    };\n  },\n  /**\r\n   * @description Create a button element\r\n   * @param {string} buttonClass className in button\r\n   * @param {string} title Title in button\r\n   * @param {string} dataCommand The data-command property of the button\r\n   * @param {string} dataDisplay The data-display property of the button ('dialog', 'submenu', 'command')\r\n   * @param {string} innerHTML Html in button\r\n   * @param {string} _disabled Button disabled\r\n   * @param {Object} _icons Icons\r\n   * @returns {Object}\r\n   * @private\r\n   */\n  _createButton: function (buttonClass, title, dataCommand, dataDisplay, innerHTML, _disabled, _icons) {\n    const oLi = util.createElement('LI');\n    const oButton = util.createElement('BUTTON');\n    const label = title || dataCommand;\n    oButton.setAttribute('type', 'button');\n    oButton.setAttribute('class', 'se-btn' + (buttonClass ? ' ' + buttonClass : '') + ' se-tooltip');\n    oButton.setAttribute('data-command', dataCommand);\n    oButton.setAttribute('data-display', dataDisplay);\n    oButton.setAttribute('aria-label', label.replace(/<span .+<\\/span>/, ''));\n    oButton.setAttribute('tabindex', '-1');\n    if (!innerHTML) innerHTML = '<span class=\"se-icon-text\">!</span>';\n    if (/^default\\./i.test(innerHTML)) {\n      innerHTML = _icons[innerHTML.replace(/^default\\./i, '')];\n    }\n    if (/^text\\./i.test(innerHTML)) {\n      innerHTML = innerHTML.replace(/^text\\./i, '');\n      oButton.className += ' se-btn-more-text';\n    }\n    innerHTML += '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + label + '</span></span>';\n    if (_disabled) oButton.setAttribute('disabled', true);\n    oButton.innerHTML = innerHTML;\n    oLi.appendChild(oButton);\n    return {\n      'li': oLi,\n      'button': oButton\n    };\n  },\n  /**\r\n   * @description Create editor HTML\r\n   * @param {Array} doc document object\r\n   * @param {Array} buttonList option.buttonList\r\n   * @param {Object|null} plugins Plugins\r\n   * @param {Array} options options\r\n   * @returns {Object} { element: (Element) Toolbar element, plugins: (Array|null) Plugins Array, pluginCallButtons: (Object), responsiveButtons: (Array) }\r\n   * @private\r\n   */\n  _createToolBar: function (doc, buttonList, plugins, options) {\n    const separator_vertical = doc.createElement('DIV');\n    separator_vertical.className = 'se-toolbar-separator-vertical';\n    const tool_bar = doc.createElement('DIV');\n    tool_bar.className = 'se-toolbar sun-editor-common';\n    const _buttonTray = doc.createElement('DIV');\n    _buttonTray.className = 'se-btn-tray';\n    tool_bar.appendChild(_buttonTray);\n\n    /** create button list */\n    buttonList = JSON.parse(JSON.stringify(buttonList));\n    const icons = options.icons;\n    const defaultButtonList = this._defaultButtons(options);\n    const pluginCallButtons = {};\n    const responsiveButtons = [];\n    let module = null;\n    let button = null;\n    let moduleElement = null;\n    let buttonElement = null;\n    let pluginName = '';\n    let vertical = false;\n    const moreLayer = util.createElement('DIV');\n    moreLayer.className = 'se-toolbar-more-layer';\n    buttonGroupLoop: for (let i = 0, more, moreContainer, moreCommand, buttonGroup, align; i < buttonList.length; i++) {\n      more = false;\n      align = '';\n      buttonGroup = buttonList[i];\n      moduleElement = this._createModuleGroup();\n\n      // button object\n      if (typeof buttonGroup === 'object') {\n        // buttons loop\n        for (let j = 0, moreButton; j < buttonGroup.length; j++) {\n          button = buttonGroup[j];\n          moreButton = false;\n          if (/^\\%\\d+/.test(button) && j === 0) {\n            buttonGroup[0] = button.replace(/[^\\d]/g, '');\n            responsiveButtons.push(buttonGroup);\n            buttonList.splice(i--, 1);\n            continue buttonGroupLoop;\n          }\n          if (typeof button === 'object') {\n            if (typeof button.add === 'function') {\n              pluginName = button.name;\n              module = defaultButtonList[pluginName];\n              plugins[pluginName] = button;\n            } else {\n              pluginName = button.name;\n              module = [button.buttonClass, button.title, button.name, button.dataDisplay, button.innerHTML, button._disabled];\n            }\n          } else {\n            // align\n            if (/^\\-/.test(button)) {\n              align = button.substr(1);\n              moduleElement.div.className += ' module-float-' + align;\n              continue;\n            }\n\n            // rtl fix\n            if (/^\\#/.test(button)) {\n              const option = button.substr(1);\n              if (option === 'fix') moduleElement.ul.className += ' se-menu-dir-fix';\n              continue;\n            }\n\n            // more button\n            if (/^\\:/.test(button)) {\n              moreButton = true;\n              const matched = button.match(/^\\:([^\\-]+)\\-([^\\-]+)\\-([^\\-]+)/);\n              moreCommand = '__se__' + matched[1].trim();\n              const title = matched[2].trim();\n              const innerHTML = matched[3].trim();\n              module = ['se-btn-more', title, moreCommand, 'MORE', innerHTML];\n            }\n            // buttons\n            else {\n              module = defaultButtonList[button];\n            }\n            pluginName = button;\n            if (!module) {\n              const custom = plugins[pluginName];\n              if (!custom) throw Error('[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. [' + pluginName + ']');\n              module = [custom.buttonClass, custom.title, custom.name, custom.display, custom.innerHTML, custom._disabled];\n            }\n          }\n          buttonElement = this._createButton(module[0], module[1], module[2], module[3], module[4], module[5], icons);\n          (more ? moreContainer : moduleElement.ul).appendChild(buttonElement.li);\n          if (plugins[pluginName]) {\n            pluginCallButtons[pluginName] = buttonElement.button;\n          }\n\n          // more button\n          if (moreButton) {\n            more = true;\n            moreContainer = util.createElement('DIV');\n            moreContainer.className = 'se-more-layer ' + moreCommand;\n            moreContainer.innerHTML = '<div class=\"se-more-form\"><ul class=\"se-menu-list\"' + (align ? ' style=\"float: ' + align + ';\"' : '') + '></ul></div>';\n            moreLayer.appendChild(moreContainer);\n            moreContainer = moreContainer.firstElementChild.firstElementChild;\n          }\n        }\n        if (vertical) {\n          const sv = separator_vertical.cloneNode(false);\n          _buttonTray.appendChild(sv);\n        }\n        _buttonTray.appendChild(moduleElement.div);\n        vertical = true;\n      }\n      /** line break  */else if (/^\\/$/.test(buttonGroup)) {\n        const enterDiv = doc.createElement('DIV');\n        enterDiv.className = 'se-btn-module-enter';\n        _buttonTray.appendChild(enterDiv);\n        vertical = false;\n      }\n    }\n    switch (_buttonTray.children.length) {\n      case 0:\n        _buttonTray.style.display = 'none';\n        break;\n      case 1:\n        util.removeClass(_buttonTray.firstElementChild, 'se-btn-module-border');\n        break;\n      default:\n        if (options.rtl) {\n          const sv = separator_vertical.cloneNode(false);\n          sv.style.float = _buttonTray.lastElementChild.style.float;\n          _buttonTray.appendChild(sv);\n        }\n    }\n    if (responsiveButtons.length > 0) responsiveButtons.unshift(buttonList);\n    if (moreLayer.children.length > 0) _buttonTray.appendChild(moreLayer);\n\n    // menu tray\n    const _menuTray = doc.createElement('DIV');\n    _menuTray.className = 'se-menu-tray';\n    tool_bar.appendChild(_menuTray);\n\n    // cover\n    const tool_cover = doc.createElement('DIV');\n    tool_cover.className = 'se-toolbar-cover';\n    tool_bar.appendChild(tool_cover);\n    if (options.hideToolbar) tool_bar.style.display = 'none';\n    return {\n      'element': tool_bar,\n      'plugins': plugins,\n      'pluginCallButtons': pluginCallButtons,\n      'responsiveButtons': responsiveButtons,\n      '_menuTray': _menuTray,\n      '_buttonTray': _buttonTray\n    };\n  }\n};","map":{"version":3,"names":["_icons","_defaultLang","util","init","element","options","doc","document","_initOptions","top_div","createElement","className","rtl","id","relative","tool_bar","_createToolBar","buttonList","plugins","toolbarShadow","cloneNode","style","visibility","pluginCallButtons","math","_checkKatexMath","katex","arrow","sticky_dummy","editor_div","initElements","_initElements","bottomBar","wysiwyg_div","wysiwygFrame","placeholder_span","placeholder","textarea","codeView","resizing_bar","resizingBar","navigation","char_wrapper","charWrapper","char_counter","charCounter","loading_box","innerHTML","line_breaker","icons","line_break","line_breaker_t","line_breaker_b","resize_back","toolbarContainer","appendChild","resizingBarContainer","_checkCodeMirror","constructed","_top","_relative","_toolBar","_toolbarShadow","_menuTray","_editorArea","_wysiwygArea","_codeArea","_placeholder","_resizingBar","_navigation","_charWrapper","_charCounter","_loading","_lineBreaker","_lineBreaker_t","_lineBreaker_b","_resizeBack","_stickyDummy","_arrow","_responsiveButtons","responsiveButtons","codeMirror","cmOptions","mode","htmlMode","lineNumbers","lineWrapping","reduce","option","key","hasOwn","height","viewportMargin","Infinity","cm","src","fromTextArea","display","wrapper","cssText","codeMirrorEditor","Error","katexOptions","throwOnError","_setOptions","mergeOptions","context","originOptions","originElement","el","editorArea","isNewToolbarContainer","isNewToolbar","lang","toolbar","parentElement","removeChild","replaceChild","topArea","code","removeItem","addClass","removeClass","callButtons","topDiv","toolBar","toolBarArrow","_editorStyles","top","test","width","toolbarWidth","wysiwygDiv","iframe","setAttribute","iframeAttributes","_editableClass","frame","editor","allowFullscreen","frameBorder","overflow","charCounterLabel","charLabel","textContent","maxCharCount","char_max","innerText","_plugins","pluginsValues","length","Object","keys","map","name","i","len","p","default","value","allowedClassNames","_w","RegExp","historyStackDelayTime","frameAttrbutes","defaultTag","textTags","bold","underline","italic","strike","sub","sup","_default","_new","_textTagsMap","toLowerCase","_defaultCommand","subscript","superscript","__allowedScriptTag","whitelist","tagsBlacklist","_defaultTagsWhitelist","_editorTagsWhitelist","addTagsWhitelist","_setWhitelist","pasteTagsBlacklist","pasteTagsWhitelist","attributesWhitelist","attributesBlacklist","lineAttrReset","concat","split","_printClass","isNumber","querySelector","stickyToolbar","undefined","getNumber","hideToolbar","fullScreenOffset","fullPage","iframeCSSFileName","previewTemplate","printTemplate","mathFontSize","text","position","popupDisplay","showPathLabel","resizeEnable","charCounterType","trim","clientWidth","minWidth","maxWidth","clientHeight","minHeight","maxHeight","defaultStyle","font","fontSize","formats","colorList","lineHeights","paragraphStyles","textStyles","fontSizeUnit","alignItems","imageResizing","imageHeightShow","imageAlignShow","imageWidth","imageHeight","imageSizeOnlyPercentage","_imageSizeUnit","imageRotation","imageFileInput","imageUrlInput","imageUploadHeader","imageUploadUrl","imageUploadSizeLimit","imageMultipleFile","imageAccept","imageGalleryUrl","imageGalleryHeader","videoResizing","videoHeightShow","videoAlignShow","videoRatioShow","videoWidth","videoHeight","videoSizeOnlyPercentage","_videoSizeUnit","videoRotation","videoRatio","videoRatioList","youtubeQuery","replace","videoFileInput","videoUrlInput","videoUploadHeader","videoUploadUrl","videoUploadSizeLimit","videoMultipleFile","videoTagAttrs","videoIframeAttrs","videoAccept","audioWidth","audioHeight","audioFileInput","audioUrlInput","audioUploadHeader","audioUploadUrl","audioUploadSizeLimit","audioMultipleFile","audioTagAttrs","audioAccept","tableCellControllerPosition","linkTargetNewWindow","linkProtocol","linkRel","Array","isArray","linkRelDefault","tabDisable","shortcutsDisable","shortcutsHint","callBackSave","templates","mediaAutoSelect","reverse","__listCommonStyle","_setDefaultOptionStyle","blacklist","index","indexOf","splice","join","_defaultButtons","cmd","isOSX_IOS","addShift","indentKey","indentIcon","outdent","indent","removeFormat","erase","fullScreen","expansion","showBlocks","show_blocks","code_view","undo","redo","preview","print","dir","dir_ltr","dir_rtl","save","blockquote","tag_blockquote","arrow_down","formatBlock","fontColor","font_color","hiliteColor","highlight_color","align","align_right","align_left","list","list_number","horizontalRule","horizontal_rule","table","lineHeight","line_height","template","paragraphStyle","paragraph_style","textStyle","text_style","link","image","video","audio","imageGallery","image_gallery","_createModuleGroup","oDiv","oUl","_createButton","buttonClass","title","dataCommand","dataDisplay","_disabled","oLi","oButton","label","separator_vertical","_buttonTray","JSON","parse","stringify","defaultButtonList","module","button","moduleElement","buttonElement","pluginName","vertical","moreLayer","buttonGroupLoop","more","moreContainer","moreCommand","buttonGroup","j","moreButton","push","add","substr","div","ul","matched","match","custom","li","firstElementChild","sv","enterDiv","children","float","lastElementChild","unshift","tool_cover"],"sources":["E:/Programming/React/New folder (2)/dynamicArt/dynamic-article/node_modules/suneditor/src/lib/constructor.js"],"sourcesContent":["/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nimport _icons from '../assets/defaultIcons';\r\nimport _defaultLang from '../lang/en';\r\nimport util from './util';\r\n\r\nexport default {\r\n    /**\r\n     * @description document create\r\n     * @param {Element} element Textarea\r\n     * @param {Object} options Options\r\n     * @returns {Object}\r\n     */\r\n    init: function (element, options) {\r\n        if (typeof options !== 'object') options = {};\r\n\r\n        const doc = document;\r\n\r\n        /** --- init options --- */\r\n        this._initOptions(element, options);\r\n    \r\n        // suneditor div\r\n        const top_div = doc.createElement('DIV');\r\n        top_div.className = 'sun-editor' + (options.rtl ? ' se-rtl' : '');\r\n        if (element.id) top_div.id = 'suneditor_' + element.id;\r\n    \r\n        // relative div\r\n        const relative = doc.createElement('DIV');\r\n        relative.className = 'se-container';\r\n    \r\n        // toolbar\r\n        const tool_bar = this._createToolBar(doc, options.buttonList, options.plugins, options);\r\n        const toolbarShadow = tool_bar.element.cloneNode(false);\r\n        toolbarShadow.className += ' se-toolbar-shadow';\r\n        tool_bar.element.style.visibility = 'hidden';\r\n        if (tool_bar.pluginCallButtons.math) this._checkKatexMath(options.katex);\r\n        const arrow = doc.createElement('DIV');\r\n        arrow.className = 'se-arrow';\r\n\r\n        // sticky toolbar dummy\r\n        const sticky_dummy = doc.createElement('DIV');\r\n        sticky_dummy.className = 'se-toolbar-sticky-dummy';\r\n    \r\n        // inner editor div\r\n        const editor_div = doc.createElement('DIV');\r\n        editor_div.className = 'se-wrapper';\r\n\r\n        /** --- init elements and create bottom bar --- */\r\n        const initElements = this._initElements(options, top_div, tool_bar.element, arrow);\r\n\r\n        const bottomBar = initElements.bottomBar;\r\n        const wysiwyg_div = initElements.wysiwygFrame;\r\n        const placeholder_span = initElements.placeholder;\r\n        let textarea = initElements.codeView;\r\n\r\n        // resizing bar\r\n        const resizing_bar = bottomBar.resizingBar;\r\n        const navigation = bottomBar.navigation;\r\n        const char_wrapper = bottomBar.charWrapper;\r\n        const char_counter = bottomBar.charCounter;\r\n    \r\n        // loading box\r\n        const loading_box = doc.createElement('DIV');\r\n        loading_box.className = 'se-loading-box sun-editor-common';\r\n        loading_box.innerHTML = '<div class=\"se-loading-effect\"></div>';\r\n\r\n        // enter line\r\n        const line_breaker = doc.createElement('DIV');\r\n        line_breaker.className = 'se-line-breaker';\r\n        line_breaker.innerHTML = '<button class=\"se-btn\">' + options.icons.line_break + '</button>';\r\n        const line_breaker_t = doc.createElement('DIV');\r\n        line_breaker_t.className += 'se-line-breaker-component';\r\n        const line_breaker_b = line_breaker_t.cloneNode(true);\r\n        line_breaker_t.innerHTML = line_breaker_b.innerHTML = options.icons.line_break;\r\n    \r\n        // resize operation background\r\n        const resize_back = doc.createElement('DIV');\r\n        resize_back.className = 'se-resizing-back';\r\n\r\n        // toolbar container\r\n        const toolbarContainer = options.toolbarContainer;\r\n        if (toolbarContainer) {\r\n            toolbarContainer.appendChild(tool_bar.element);\r\n            toolbarContainer.appendChild(toolbarShadow);\r\n        }\r\n\r\n        // resizingbar\r\n        const resizingBarContainer = options.resizingBarContainer;\r\n        if (resizing_bar && resizingBarContainer) resizingBarContainer.appendChild(resizing_bar);\r\n    \r\n        /** append html */\r\n        editor_div.appendChild(textarea);\r\n        if (placeholder_span) editor_div.appendChild(placeholder_span);\r\n        if (!toolbarContainer) {\r\n            relative.appendChild(tool_bar.element);\r\n            relative.appendChild(toolbarShadow);\r\n        }\r\n        relative.appendChild(sticky_dummy);\r\n        relative.appendChild(editor_div);\r\n        relative.appendChild(resize_back);\r\n        relative.appendChild(loading_box);\r\n        relative.appendChild(line_breaker);\r\n        relative.appendChild(line_breaker_t);\r\n        relative.appendChild(line_breaker_b);\r\n        if (resizing_bar && !resizingBarContainer) relative.appendChild(resizing_bar);\r\n        top_div.appendChild(relative);\r\n\r\n        textarea = this._checkCodeMirror(options, textarea);\r\n    \r\n        return {\r\n            constructed: {\r\n                _top: top_div,\r\n                _relative: relative,\r\n                _toolBar: tool_bar.element,\r\n                _toolbarShadow: toolbarShadow,\r\n                _menuTray: tool_bar._menuTray,\r\n                _editorArea: editor_div,\r\n                _wysiwygArea: wysiwyg_div,\r\n                _codeArea: textarea,\r\n                _placeholder: placeholder_span,\r\n                _resizingBar: resizing_bar,\r\n                _navigation: navigation,\r\n                _charWrapper: char_wrapper,\r\n                _charCounter: char_counter,\r\n                _loading: loading_box,\r\n                _lineBreaker: line_breaker,\r\n                _lineBreaker_t: line_breaker_t,\r\n                _lineBreaker_b: line_breaker_b,\r\n                _resizeBack: resize_back,\r\n                _stickyDummy: sticky_dummy,\r\n                _arrow: arrow\r\n            },\r\n            options: options,\r\n            plugins: tool_bar.plugins,\r\n            pluginCallButtons: tool_bar.pluginCallButtons,\r\n            _responsiveButtons: tool_bar.responsiveButtons\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Check the CodeMirror option to apply the CodeMirror and return the CodeMirror element.\r\n     * @param {Object} options options\r\n     * @param {Element} textarea textarea element\r\n     * @private\r\n     */\r\n    _checkCodeMirror: function (options, textarea) {\r\n        if (options.codeMirror) {\r\n            const cmOptions = [{\r\n                mode: 'htmlmixed',\r\n                htmlMode: true,\r\n                lineNumbers: true,\r\n                lineWrapping: true\r\n            }, (options.codeMirror.options || {})].reduce(function (init, option) {\r\n                for (let key in option) {\r\n                    if (util.hasOwn(option, key)) init[key] = option[key];\r\n                }\r\n                return init;\r\n            }, {});\r\n\r\n            if (options.height === 'auto') {\r\n                cmOptions.viewportMargin = Infinity;\r\n                cmOptions.height = 'auto';\r\n            }\r\n            \r\n            const cm = options.codeMirror.src.fromTextArea(textarea, cmOptions);\r\n            cm.display.wrapper.style.cssText = textarea.style.cssText;\r\n            \r\n            options.codeMirrorEditor = cm;\r\n            textarea = cm.display.wrapper;\r\n            textarea.className += ' se-wrapper-code-mirror';\r\n        }\r\n\r\n        return textarea;\r\n    },\r\n\r\n    /**\r\n     * @description Check for a katex object.\r\n     * @param {Object} katex katex object\r\n     * @private\r\n     */\r\n    _checkKatexMath: function (katex) {\r\n        if (!katex) throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a \"katex\" object to the options.');\r\n\r\n        const katexOptions = [{\r\n            throwOnError: false,\r\n        }, (katex.options || {})].reduce(function (init, option) {\r\n            for (let key in option) {\r\n                if (util.hasOwn(option, key)) init[key] = option[key];\r\n            }\r\n            return init;\r\n        }, {});\r\n\r\n        katex.options = katexOptions;\r\n    },\r\n\r\n    /**\r\n     * @description Add or reset options\r\n     * @param {Object} mergeOptions New options property\r\n     * @param {Object} context Context object of core\r\n     * @param {Object} originOptions Origin options\r\n     * @returns {Object} pluginCallButtons\r\n     * @private\r\n     */\r\n    _setOptions: function (mergeOptions, context, originOptions) {\r\n        this._initOptions(context.element.originElement, mergeOptions);\r\n\r\n        const el = context.element;\r\n        const relative = el.relative;\r\n        const editorArea = el.editorArea;\r\n        const isNewToolbarContainer = mergeOptions.toolbarContainer && mergeOptions.toolbarContainer !== originOptions.toolbarContainer;\r\n        const isNewToolbar = mergeOptions.lang !== originOptions.lang || mergeOptions.buttonList !== originOptions.buttonList || mergeOptions.mode !== originOptions.mode || isNewToolbarContainer;\r\n\r\n        const tool_bar = this._createToolBar(document, (isNewToolbar ? mergeOptions.buttonList : originOptions.buttonList), mergeOptions.plugins, mergeOptions);\r\n        if (tool_bar.pluginCallButtons.math) this._checkKatexMath(mergeOptions.katex);\r\n        const arrow = document.createElement('DIV');\r\n        arrow.className = 'se-arrow';\r\n\r\n        if (isNewToolbar) {\r\n            tool_bar.element.style.visibility = 'hidden';\r\n            // toolbar container\r\n            if (isNewToolbarContainer) {\r\n                mergeOptions.toolbarContainer.appendChild(tool_bar.element);\r\n                el.toolbar.parentElement.removeChild(el.toolbar);\r\n            } else {\r\n                el.toolbar.parentElement.replaceChild(tool_bar.element, el.toolbar);\r\n            }\r\n\r\n            el.toolbar = tool_bar.element;\r\n            el._menuTray = tool_bar._menuTray;\r\n            el._arrow = arrow;\r\n        }\r\n        \r\n        const initElements = this._initElements(mergeOptions, el.topArea, (isNewToolbar ? tool_bar.element : el.toolbar), arrow);\r\n\r\n        const bottomBar = initElements.bottomBar;\r\n        const wysiwygFrame = initElements.wysiwygFrame;\r\n        const placeholder_span = initElements.placeholder;\r\n        let code = initElements.codeView;\r\n\r\n        if (el.resizingBar) util.removeItem(el.resizingBar);\r\n        if (bottomBar.resizingBar) {\r\n            if (mergeOptions.resizingBarContainer && mergeOptions.resizingBarContainer !== originOptions.resizingBarContainer) {\r\n                mergeOptions.resizingBarContainer.appendChild(bottomBar.resizingBar);\r\n            } else {\r\n                relative.appendChild(bottomBar.resizingBar);\r\n            }\r\n        }\r\n\r\n        editorArea.innerHTML = '';\r\n        editorArea.appendChild(code);\r\n        if (placeholder_span) editorArea.appendChild(placeholder_span);\r\n\r\n        code = this._checkCodeMirror(mergeOptions, code);\r\n        \r\n        el.resizingBar = bottomBar.resizingBar;\r\n        el.navigation = bottomBar.navigation;\r\n        el.charWrapper = bottomBar.charWrapper;\r\n        el.charCounter = bottomBar.charCounter;\r\n        el.wysiwygFrame = wysiwygFrame;\r\n        el.code = code;\r\n        el.placeholder = placeholder_span;\r\n\r\n        if (mergeOptions.rtl) util.addClass(el.topArea, 'se-rtl');\r\n        else util.removeClass(el.topArea, 'se-rtl');\r\n\r\n        return {\r\n            callButtons: tool_bar.pluginCallButtons,\r\n            plugins: tool_bar.plugins,\r\n            toolbar: tool_bar\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Initialize property of suneditor elements\r\n     * @param {Object} options Options\r\n     * @param {Element} topDiv Suneditor top div\r\n     * @param {Element} toolBar Tool bar\r\n     * @param {Element} toolBarArrow Tool bar arrow (balloon editor)\r\n     * @returns {Object} Bottom bar elements (resizingBar, navigation, charWrapper, charCounter)\r\n     * @private\r\n     */\r\n    _initElements: function (options, topDiv, toolBar, toolBarArrow) {\r\n        /** top div */\r\n        topDiv.style.cssText = options._editorStyles.top;\r\n\r\n        /** toolbar */\r\n        if (/inline/i.test(options.mode)) {\r\n            toolBar.className += ' se-toolbar-inline';\r\n            toolBar.style.width = options.toolbarWidth;\r\n        } else if (/balloon/i.test(options.mode)) {\r\n            toolBar.className += ' se-toolbar-balloon';\r\n            toolBar.style.width = options.toolbarWidth;\r\n            toolBar.appendChild(toolBarArrow);\r\n        }\r\n\r\n        /** editor */\r\n        // wysiwyg div or iframe\r\n        const wysiwygDiv = document.createElement(!options.iframe ? 'DIV' : 'IFRAME');\r\n        wysiwygDiv.className = 'se-wrapper-inner se-wrapper-wysiwyg';\r\n        \r\n        if (!options.iframe) {\r\n            wysiwygDiv.setAttribute('contenteditable', true);\r\n            wysiwygDiv.setAttribute('scrolling', 'auto');\r\n            for (let key in options.iframeAttributes) {\r\n                wysiwygDiv.setAttribute(key, options.iframeAttributes[key]);\r\n            }\r\n            wysiwygDiv.className += ' ' + options._editableClass;\r\n            wysiwygDiv.style.cssText = options._editorStyles.frame + options._editorStyles.editor;\r\n            wysiwygDiv.className += options.className;\r\n        } else {\r\n            wysiwygDiv.allowFullscreen = true;\r\n            wysiwygDiv.frameBorder = 0;\r\n            wysiwygDiv.style.cssText = options._editorStyles.frame;\r\n            wysiwygDiv.className += options.className;\r\n        }\r\n\r\n        // textarea for code view\r\n        const textarea = document.createElement('TEXTAREA');\r\n        textarea.className = 'se-wrapper-inner se-wrapper-code' + options.className;\r\n        textarea.style.cssText = options._editorStyles.frame;\r\n        textarea.style.display = 'none';\r\n        if (options.height === 'auto') textarea.style.overflow = 'hidden';\r\n\r\n        /** resize bar */\r\n        let resizingBar = null;\r\n        let navigation = null;\r\n        let charWrapper = null;\r\n        let charCounter = null;\r\n        if (options.resizingBar) {\r\n            resizingBar = document.createElement('DIV');\r\n            resizingBar.className = 'se-resizing-bar sun-editor-common';\r\n\r\n            /** navigation */\r\n            navigation = document.createElement('DIV');\r\n            navigation.className = 'se-navigation sun-editor-common';\r\n            resizingBar.appendChild(navigation);\r\n\r\n            /** char counter */\r\n            if (options.charCounter) {\r\n                charWrapper = document.createElement('DIV');\r\n                charWrapper.className = 'se-char-counter-wrapper';\r\n\r\n                if (options.charCounterLabel) {\r\n                    const charLabel = document.createElement('SPAN');\r\n                    charLabel.className = 'se-char-label';\r\n                    charLabel.textContent = options.charCounterLabel;\r\n                    charWrapper.appendChild(charLabel);\r\n                }\r\n    \r\n                charCounter = document.createElement('SPAN');\r\n                charCounter.className = 'se-char-counter';\r\n                charCounter.textContent = '0';\r\n                charWrapper.appendChild(charCounter);\r\n    \r\n                if (options.maxCharCount > 0) {\r\n                    const char_max = document.createElement('SPAN');\r\n                    char_max.textContent = ' / ' + options.maxCharCount;\r\n                    charWrapper.appendChild(char_max);\r\n                }\r\n\r\n                resizingBar.appendChild(charWrapper);\r\n            }\r\n        }\r\n        \r\n        let placeholder = null;\r\n        if (options.placeholder) {\r\n            placeholder = document.createElement('SPAN');\r\n            placeholder.className = 'se-placeholder';\r\n            placeholder.innerText = options.placeholder;\r\n        }\r\n\r\n        return {\r\n            bottomBar: {\r\n                resizingBar: resizingBar,\r\n                navigation: navigation,\r\n                charWrapper: charWrapper,\r\n                charCounter: charCounter\r\n            },\r\n            wysiwygFrame: wysiwygDiv,\r\n            codeView: textarea,\r\n            placeholder: placeholder\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Initialize options\r\n     * @param {Element} element Options object\r\n     * @param {Object} options Options object\r\n     * @private\r\n     */\r\n    _initOptions: function (element, options) {\r\n        const plugins = {};\r\n        if (options.plugins) {\r\n            const _plugins = options.plugins;\r\n            const pluginsValues = _plugins.length ? _plugins : Object.keys(_plugins).map(function(name) { return _plugins[name]; });\r\n            for (let i = 0, len = pluginsValues.length, p; i < len; i++) {\r\n                p = pluginsValues[i].default || pluginsValues[i];\r\n                plugins[p.name] = p;\r\n            }\r\n        }\r\n        options.plugins = plugins;\r\n        /** Values */\r\n        options.lang = options.lang || _defaultLang;\r\n        options.value = typeof options.value === 'string' ? options.value : null;\r\n        options.allowedClassNames = new util._w.RegExp((options.allowedClassNames && typeof options.allowedClassNames === 'string' ? options.allowedClassNames + '|' : '') + '^__se__|se-|katex');\r\n        options.historyStackDelayTime = typeof options.historyStackDelayTime === 'number' ? options.historyStackDelayTime : 400;\r\n        options.frameAttrbutes = options.frameAttrbutes || {};\r\n        // tag style\r\n        options.defaultTag = typeof options.defaultTag === 'string' && options.defaultTag.length > 0 ? options.defaultTag : 'p';\r\n        const textTags = options.textTags = [{bold: 'STRONG', underline: 'U', italic: 'EM', strike: 'DEL', sub: 'SUB', sup: 'SUP'}, (options.textTags || {})].reduce(function (_default, _new) {\r\n            for (let key in _new) {\r\n                _default[key] = _new[key];\r\n            }\r\n            return _default;\r\n        }, {});\r\n        options._textTagsMap = {\r\n            'strong': textTags.bold.toLowerCase(),\r\n            'b': textTags.bold.toLowerCase(),\r\n            'u': textTags.underline.toLowerCase(),\r\n            'ins': textTags.underline.toLowerCase(),\r\n            'em': textTags.italic.toLowerCase(),\r\n            'i': textTags.italic.toLowerCase(),\r\n            'del': textTags.strike.toLowerCase(),\r\n            'strike': textTags.strike.toLowerCase(),\r\n            's': textTags.strike.toLowerCase(),\r\n            'sub': textTags.sub.toLowerCase(),\r\n            'sup': textTags.sup.toLowerCase()\r\n        };\r\n        options._defaultCommand = {\r\n            bold: options.textTags.bold,\r\n            underline: options.textTags.underline,\r\n            italic: options.textTags.italic,\r\n            strike: options.textTags.strike,\r\n            subscript: options.textTags.sub,\r\n            superscript: options.textTags.sup\r\n        };\r\n        /** Whitelist, Blacklist */\r\n        options.__allowedScriptTag = options.__allowedScriptTag === true;\r\n        const whitelist = 'br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path|details|summary';\r\n        // tags\r\n        options.tagsBlacklist = options.tagsBlacklist || '';\r\n        options._defaultTagsWhitelist = (typeof options._defaultTagsWhitelist === 'string' ? options._defaultTagsWhitelist : whitelist) + (options.__allowedScriptTag ? '|script' : '');\r\n        options._editorTagsWhitelist = options.addTagsWhitelist === '*' ? '*' : this._setWhitelist(options._defaultTagsWhitelist + (typeof options.addTagsWhitelist === 'string' && options.addTagsWhitelist.length > 0 ? '|' + options.addTagsWhitelist : ''), options.tagsBlacklist);\r\n        // paste tags\r\n        options.pasteTagsBlacklist = options.tagsBlacklist + (options.tagsBlacklist && options.pasteTagsBlacklist ? ('|' + options.pasteTagsBlacklist) : (options.pasteTagsBlacklist || ''));\r\n        options.pasteTagsWhitelist = options.pasteTagsWhitelist === '*' ? '*' : this._setWhitelist(typeof options.pasteTagsWhitelist === 'string' ? options.pasteTagsWhitelist : options._editorTagsWhitelist, options.pasteTagsBlacklist);\r\n        // tag attributes\r\n        options.attributesWhitelist = (!options.attributesWhitelist || typeof options.attributesWhitelist !== 'object') ? null : options.attributesWhitelist;\r\n        options.attributesBlacklist = (!options.attributesBlacklist || typeof options.attributesBlacklist !== 'object') ? null : options.attributesBlacklist;\r\n        /** Layout */\r\n        options.mode = options.mode || 'classic'; // classic, inline, balloon, balloon-always\r\n        options.rtl = !!options.rtl;\r\n        options.lineAttrReset = ['id'].concat((options.lineAttrReset && typeof options.lineAttrReset === 'string' ? options.lineAttrReset.toLowerCase().split('|') : []));\r\n        options._editableClass = 'sun-editor-editable' + (options.rtl ? ' se-rtl' : '');\r\n        options._printClass = typeof options._printClass === 'string' ? options._printClass : null;\r\n        options.toolbarWidth = options.toolbarWidth ? (util.isNumber(options.toolbarWidth) ? options.toolbarWidth + 'px' : options.toolbarWidth) : 'auto';\r\n        options.toolbarContainer = typeof options.toolbarContainer === 'string' ? document.querySelector(options.toolbarContainer) : options.toolbarContainer;\r\n        options.stickyToolbar = (/balloon/i.test(options.mode) || !!options.toolbarContainer) ? -1 : options.stickyToolbar === undefined ? 0 : (/^\\d+/.test(options.stickyToolbar) ? util.getNumber(options.stickyToolbar, 0) : -1);\r\n        options.hideToolbar = !!options.hideToolbar;\r\n        options.fullScreenOffset = options.fullScreenOffset === undefined ? 0 : (/^\\d+/.test(options.fullScreenOffset) ? util.getNumber(options.fullScreenOffset, 0) : 0);\r\n        options.fullPage = !!options.fullPage;\r\n        options.iframe = options.fullPage || !!options.iframe;\r\n        options.iframeAttributes = options.iframeAttributes || {};\r\n        options.iframeCSSFileName = options.iframe ? typeof options.iframeCSSFileName === 'string' ? [options.iframeCSSFileName] : (options.iframeCSSFileName || ['suneditor']) : null;\r\n        options.previewTemplate = typeof options.previewTemplate === 'string' ? options.previewTemplate : null;\r\n        options.printTemplate = typeof options.printTemplate === 'string' ? options.printTemplate : null;\r\n        /** CodeMirror object */\r\n        options.codeMirror = options.codeMirror ? options.codeMirror.src ? options.codeMirror : {src: options.codeMirror} : null;\r\n        /** katex object (Math plugin) */\r\n        options.katex = options.katex ? options.katex.src ? options.katex : {src: options.katex} : null;\r\n        options.mathFontSize = !!options.mathFontSize ? options.mathFontSize : [\r\n            {text: '1', value: '1em'},\r\n            {text: '1.5', value: '1.5em'},\r\n            {text: '2', value: '2em'},\r\n            {text: '2.5', value: '2.5em'}\r\n        ];\r\n        /** Display */\r\n        options.position = typeof options.position === 'string' ? options.position : null;\r\n        options.display = options.display || (element.style.display === 'none' || !element.style.display ? 'block' : element.style.display);\r\n        options.popupDisplay = options.popupDisplay || 'full';\r\n        /** Bottom resizing bar */\r\n        options.resizingBar = options.resizingBar === undefined ? (/inline|balloon/i.test(options.mode) ? false : true) : options.resizingBar;\r\n        options.showPathLabel = !options.resizingBar ? false : typeof options.showPathLabel === 'boolean' ? options.showPathLabel : true;\r\n        options.resizeEnable = options.resizeEnable === undefined ? true : !!options.resizeEnable;\r\n        options.resizingBarContainer = typeof options.resizingBarContainer === 'string' ? document.querySelector(options.resizingBarContainer) : options.resizingBarContainer;\r\n        /** Character count */\r\n        options.charCounter = options.maxCharCount > 0 ? true : typeof options.charCounter === 'boolean' ? options.charCounter : false;\r\n        options.charCounterType = typeof options.charCounterType === 'string' ? options.charCounterType : 'char';\r\n        options.charCounterLabel = typeof options.charCounterLabel === 'string' ? options.charCounterLabel.trim() : null;\r\n        options.maxCharCount = util.isNumber(options.maxCharCount) && options.maxCharCount > -1 ? options.maxCharCount * 1 : null;\r\n        /** Width size */\r\n        options.width = options.width ? (util.isNumber(options.width) ? options.width + 'px' : options.width) : (element.clientWidth ? element.clientWidth + 'px' : '100%');\r\n        options.minWidth = (util.isNumber(options.minWidth) ? options.minWidth + 'px' : options.minWidth) || '';\r\n        options.maxWidth = (util.isNumber(options.maxWidth) ? options.maxWidth + 'px' : options.maxWidth) || '';\r\n        /** Height size */\r\n        options.height = options.height ? (util.isNumber(options.height) ? options.height + 'px' : options.height) : (element.clientHeight ? element.clientHeight + 'px' : 'auto');\r\n        options.minHeight = (util.isNumber(options.minHeight) ? options.minHeight + 'px' : options.minHeight) || '';\r\n        options.maxHeight = (util.isNumber(options.maxHeight) ? options.maxHeight + 'px' : options.maxHeight) || '';\r\n        /** Editing area */\r\n        options.className = (typeof options.className === 'string' && options.className.length > 0) ? ' ' + options.className : '';\r\n        options.defaultStyle = typeof options.defaultStyle === 'string' ? options.defaultStyle : '';\r\n        /** Defining menu items */\r\n        options.font = !options.font ? ['Arial', 'Comic Sans MS', 'Courier New', 'Impact', 'Georgia', 'tahoma', 'Trebuchet MS', 'Verdana'] : options.font;\r\n        options.fontSize = !options.fontSize ? null : options.fontSize;\r\n        options.formats = !options.formats ? null : options.formats;\r\n        options.colorList = !options.colorList ? null : options.colorList;\r\n        options.lineHeights = !options.lineHeights ? null : options.lineHeights;\r\n        options.paragraphStyles = !options.paragraphStyles ? null : options.paragraphStyles;\r\n        options.textStyles = !options.textStyles ? null : options.textStyles;\r\n        options.fontSizeUnit = typeof options.fontSizeUnit === 'string' ? (options.fontSizeUnit.trim().toLowerCase() || 'px') : 'px';\r\n        options.alignItems = typeof options.alignItems === 'object' ? options.alignItems : (options.rtl ? ['right', 'center', 'left', 'justify'] : ['left', 'center', 'right', 'justify']);\r\n        /** Image */\r\n        options.imageResizing = options.imageResizing === undefined ? true : options.imageResizing;\r\n        options.imageHeightShow = options.imageHeightShow === undefined ? true : !!options.imageHeightShow;\r\n        options.imageAlignShow = options.imageAlignShow === undefined ? true : !!options.imageAlignShow;\r\n        options.imageWidth = !options.imageWidth ? 'auto' : util.isNumber(options.imageWidth) ? options.imageWidth + 'px' : options.imageWidth;\r\n        options.imageHeight = !options.imageHeight ? 'auto' : util.isNumber(options.imageHeight) ? options.imageHeight + 'px' : options.imageHeight;\r\n        options.imageSizeOnlyPercentage = !!options.imageSizeOnlyPercentage;\r\n        options._imageSizeUnit = options.imageSizeOnlyPercentage ? '%' : 'px';\r\n        options.imageRotation = options.imageRotation !== undefined ? options.imageRotation : !(options.imageSizeOnlyPercentage || !options.imageHeightShow);\r\n        options.imageFileInput = options.imageFileInput === undefined ? true : options.imageFileInput;\r\n        options.imageUrlInput = (options.imageUrlInput === undefined || !options.imageFileInput) ? true : options.imageUrlInput;\r\n        options.imageUploadHeader = options.imageUploadHeader || null;\r\n        options.imageUploadUrl = typeof options.imageUploadUrl === 'string' ? options.imageUploadUrl : null;\r\n        options.imageUploadSizeLimit = /\\d+/.test(options.imageUploadSizeLimit) ? util.getNumber(options.imageUploadSizeLimit, 0) : null;\r\n        options.imageMultipleFile = !!options.imageMultipleFile;\r\n        options.imageAccept = (typeof options.imageAccept !== 'string' || options.imageAccept.trim() === \"*\") ? 'image/*' : options.imageAccept.trim() || 'image/*';\r\n        /** Image - image gallery */\r\n        options.imageGalleryUrl = typeof options.imageGalleryUrl === 'string' ? options.imageGalleryUrl : null;\r\n        options.imageGalleryHeader = options.imageGalleryHeader || null;\r\n        /** Video */\r\n        options.videoResizing = options.videoResizing === undefined ? true : options.videoResizing;\r\n        options.videoHeightShow = options.videoHeightShow === undefined ? true : !!options.videoHeightShow;\r\n        options.videoAlignShow = options.videoAlignShow === undefined ? true : !!options.videoAlignShow;\r\n        options.videoRatioShow = options.videoRatioShow === undefined ? true : !!options.videoRatioShow;\r\n        options.videoWidth = !options.videoWidth || !util.getNumber(options.videoWidth, 0) ? '' : util.isNumber(options.videoWidth) ? options.videoWidth + 'px' : options.videoWidth;\r\n        options.videoHeight = !options.videoHeight || !util.getNumber(options.videoHeight, 0) ? '' : util.isNumber(options.videoHeight) ? options.videoHeight + 'px' : options.videoHeight;\r\n        options.videoSizeOnlyPercentage = !!options.videoSizeOnlyPercentage;\r\n        options._videoSizeUnit = options.videoSizeOnlyPercentage ? '%' : 'px';\r\n        options.videoRotation = options.videoRotation !== undefined ? options.videoRotation : !(options.videoSizeOnlyPercentage || !options.videoHeightShow);\r\n        options.videoRatio = (util.getNumber(options.videoRatio, 4) || 0.5625);\r\n        options.videoRatioList = !options.videoRatioList ? null : options.videoRatioList;\r\n        options.youtubeQuery = (options.youtubeQuery || '').replace('?', '');\r\n        options.videoFileInput = !!options.videoFileInput;\r\n        options.videoUrlInput = (options.videoUrlInput === undefined || !options.videoFileInput) ? true : options.videoUrlInput;\r\n        options.videoUploadHeader = options.videoUploadHeader || null;\r\n        options.videoUploadUrl = typeof options.videoUploadUrl === 'string' ? options.videoUploadUrl : null;\r\n        options.videoUploadSizeLimit = /\\d+/.test(options.videoUploadSizeLimit) ? util.getNumber(options.videoUploadSizeLimit, 0) : null;\r\n        options.videoMultipleFile = !!options.videoMultipleFile;\r\n        options.videoTagAttrs = options.videoTagAttrs || null;\r\n        options.videoIframeAttrs = options.videoIframeAttrs || null;\r\n        options.videoAccept = (typeof options.videoAccept !== 'string' || options.videoAccept.trim() === \"*\") ? 'video/*' : options.videoAccept.trim() || 'video/*';\r\n        /** Audio */\r\n        options.audioWidth = !options.audioWidth ? '' : util.isNumber(options.audioWidth) ? options.audioWidth + 'px' : options.audioWidth;\r\n        options.audioHeight = !options.audioHeight ? '' : util.isNumber(options.audioHeight) ? options.audioHeight + 'px' : options.audioHeight;\r\n        options.audioFileInput = !!options.audioFileInput;\r\n        options.audioUrlInput = (options.audioUrlInput === undefined || !options.audioFileInput) ? true : options.audioUrlInput;\r\n        options.audioUploadHeader = options.audioUploadHeader || null;\r\n        options.audioUploadUrl = typeof options.audioUploadUrl === 'string' ? options.audioUploadUrl : null;\r\n        options.audioUploadSizeLimit = /\\d+/.test(options.audioUploadSizeLimit) ? util.getNumber(options.audioUploadSizeLimit, 0) : null;\r\n        options.audioMultipleFile = !!options.audioMultipleFile;\r\n        options.audioTagAttrs = options.audioTagAttrs || null;\r\n        options.audioAccept = (typeof options.audioAccept !== 'string' || options.audioAccept.trim() === \"*\") ? 'audio/*' : options.audioAccept.trim() || 'audio/*';\r\n        /** Table */\r\n        options.tableCellControllerPosition = typeof options.tableCellControllerPosition === 'string' ? options.tableCellControllerPosition.toLowerCase() : 'cell';\r\n        /** Link */\r\n        options.linkTargetNewWindow = !!options.linkTargetNewWindow;\r\n        options.linkProtocol = typeof options.linkProtocol === 'string' ? options.linkProtocol : null;\r\n        options.linkRel = Array.isArray(options.linkRel) ? options.linkRel : [];\r\n        options.linkRelDefault = options.linkRelDefault || {};\r\n        /** HR */\r\n        // options.hrItems = options.hrItems;\r\n        /** Key actions */\r\n        options.tabDisable = !!options.tabDisable;\r\n        options.shortcutsDisable = Array.isArray(options.shortcutsDisable) ? options.shortcutsDisable : [];\r\n        options.shortcutsHint = options.shortcutsHint === undefined ? true : !!options.shortcutsHint;\r\n        /** Defining save button */\r\n        options.callBackSave = !options.callBackSave ? null : options.callBackSave;\r\n        /** Templates Array */\r\n        options.templates = !options.templates ? null : options.templates;\r\n        /** ETC */\r\n        options.placeholder = typeof options.placeholder === 'string' ? options.placeholder : null;\r\n        options.mediaAutoSelect = options.mediaAutoSelect === undefined ? true : !!options.mediaAutoSelect;\r\n        /** Buttons */\r\n        options.buttonList = !!options.buttonList ? options.buttonList : [\r\n            ['undo', 'redo'],\r\n            ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'],\r\n            ['removeFormat'],\r\n            ['outdent', 'indent'],\r\n            ['fullScreen', 'showBlocks', 'codeView'],\r\n            ['preview', 'print']\r\n        ];\r\n\r\n        /** RTL - buttons */\r\n        if (options.rtl) {\r\n            options.buttonList = options.buttonList.reverse();\r\n        }\r\n\r\n        /** --- Define icons --- */\r\n        // custom icons\r\n        options.icons = (!options.icons || typeof options.icons !== 'object') ? _icons : [_icons, options.icons].reduce(function (_default, _new) {\r\n            for (let key in _new) {\r\n                if (util.hasOwn(_new, key)) _default[key] = _new[key];\r\n            }\r\n            return _default;\r\n        }, {});\r\n        // rtl icons\r\n        options.icons = !options.rtl ? options.icons : [options.icons, options.icons.rtl].reduce(function (_default, _new) {\r\n            for (let key in _new) {\r\n                if (util.hasOwn(_new, key)) _default[key] = _new[key];\r\n            }\r\n            return _default;\r\n        }, {});\r\n\r\n        /** Private options */\r\n        options.__listCommonStyle = options.__listCommonStyle || ['fontSize', 'color', 'fontFamily', 'fontWeight', 'fontStyle'];\r\n\r\n        /** _init options */\r\n        options._editorStyles = util._setDefaultOptionStyle(options, options.defaultStyle);\r\n    },\r\n\r\n    _setWhitelist: function (whitelist, blacklist) {\r\n        if (typeof blacklist !== 'string') return whitelist;\r\n        blacklist = blacklist.split('|');\r\n        whitelist = whitelist.split('|');\r\n        for (let i = 0, len = blacklist.length, index; i < len; i++) {\r\n            index = whitelist.indexOf(blacklist[i]);\r\n            if (index > -1) whitelist.splice(index, 1);\r\n        }\r\n        return whitelist.join('|');\r\n    },\r\n\r\n    /**\r\n     * @description Suneditor's Default button list\r\n     * @param {Object} options options\r\n     * @private\r\n     */\r\n    _defaultButtons: function (options) {\r\n        const icons = options.icons;\r\n        const lang = options.lang;\r\n        const cmd = util.isOSX_IOS ? '⌘' : 'CTRL';\r\n        const addShift = util.isOSX_IOS ? '⇧' : '+SHIFT';\r\n        const shortcutsDisable = !options.shortcutsHint ? ['bold', 'strike', 'underline', 'italic', 'undo', 'indent', 'save'] : options.shortcutsDisable;\r\n        const indentKey = options.rtl ? ['[',']'] : [']','['];\r\n        const indentIcon = options.rtl ? [icons.outdent, icons.indent] : [icons.indent, icons.outdent];\r\n\r\n        return {\r\n            /** default command */\r\n            bold: ['', lang.toolbar.bold + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('bold') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">B</span>') + '</span>', 'bold', '', icons.bold],\r\n            underline: ['', lang.toolbar.underline + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('underline') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">U</span>') + '</span>', 'underline', '', icons.underline],\r\n            italic: ['', lang.toolbar.italic + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('italic') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">I</span>') + '</span>', 'italic', '', icons.italic],\r\n            strike: ['', lang.toolbar.strike + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('strike') > -1 ? '' : cmd + addShift + '+<span class=\"se-shortcut-key\">S</span>') + '</span>', 'strike', '', icons.strike],\r\n            subscript: ['', lang.toolbar.subscript, 'SUB', '', icons.subscript],\r\n            superscript: ['', lang.toolbar.superscript, 'SUP', '', icons.superscript],\r\n            removeFormat: ['', lang.toolbar.removeFormat, 'removeFormat', '', icons.erase],\r\n            indent: ['', lang.toolbar.indent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[0] + '</span>') + '</span>', 'indent', '', indentIcon[0]],\r\n            outdent: ['', lang.toolbar.outdent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[1] + '</span>') + '</span>', 'outdent', '', indentIcon[1]],\r\n            fullScreen: ['se-code-view-enabled se-resizing-enabled', lang.toolbar.fullScreen, 'fullScreen', '', icons.expansion],\r\n            showBlocks: ['', lang.toolbar.showBlocks, 'showBlocks', '', icons.show_blocks],\r\n            codeView: ['se-code-view-enabled se-resizing-enabled', lang.toolbar.codeView, 'codeView', '', icons.code_view],\r\n            undo: ['', lang.toolbar.undo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'undo', '', icons.undo],\r\n            redo: ['', lang.toolbar.redo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Y</span> / ' + cmd + addShift + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'redo', '', icons.redo],\r\n            preview: ['se-resizing-enabled', lang.toolbar.preview, 'preview', '', icons.preview],\r\n            print: ['se-resizing-enabled', lang.toolbar.print, 'print', '', icons.print],\r\n            dir: ['', lang.toolbar[options.rtl ? 'dir_ltr' : 'dir_rtl'], 'dir', '',  icons[options.rtl ? 'dir_ltr' : 'dir_rtl']],\r\n            dir_ltr: ['', lang.toolbar.dir_ltr, 'dir_ltr', '',  icons.dir_ltr],\r\n            dir_rtl: ['', lang.toolbar.dir_rtl, 'dir_rtl', '',  icons.dir_rtl],\r\n            save: ['se-resizing-enabled', lang.toolbar.save + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('save') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">S</span>') + '</span>', 'save', '', icons.save],\r\n            /** plugins - command */\r\n            blockquote: ['', lang.toolbar.tag_blockquote, 'blockquote', 'command', icons.blockquote],\r\n            /** plugins - submenu */\r\n            font: ['se-btn-select se-btn-tool-font', lang.toolbar.font, 'font', 'submenu', '<span class=\"txt\">' + lang.toolbar.font + '</span>' + icons.arrow_down],\r\n            formatBlock: ['se-btn-select se-btn-tool-format', lang.toolbar.formats, 'formatBlock', 'submenu', '<span class=\"txt\">' + lang.toolbar.formats + '</span>' + icons.arrow_down],\r\n            fontSize: ['se-btn-select se-btn-tool-size', lang.toolbar.fontSize, 'fontSize', 'submenu', '<span class=\"txt\">' + lang.toolbar.fontSize + '</span>' + icons.arrow_down],\r\n            fontColor: ['', lang.toolbar.fontColor, 'fontColor', 'submenu', icons.font_color],\r\n            hiliteColor: ['', lang.toolbar.hiliteColor, 'hiliteColor', 'submenu', icons.highlight_color],\r\n            align: ['se-btn-align', lang.toolbar.align, 'align', 'submenu', (options.rtl ? icons.align_right : icons.align_left)],\r\n            list: ['', lang.toolbar.list, 'list', 'submenu', icons.list_number],\r\n            horizontalRule: ['btn_line', lang.toolbar.horizontalRule, 'horizontalRule', 'submenu', icons.horizontal_rule],\r\n            table: ['', lang.toolbar.table, 'table', 'submenu', icons.table],\r\n            lineHeight: ['', lang.toolbar.lineHeight, 'lineHeight', 'submenu', icons.line_height],\r\n            template: ['', lang.toolbar.template, 'template', 'submenu', icons.template],\r\n            paragraphStyle: ['', lang.toolbar.paragraphStyle, 'paragraphStyle', 'submenu', icons.paragraph_style],\r\n            textStyle: ['', lang.toolbar.textStyle, 'textStyle', 'submenu', icons.text_style],\r\n            /** plugins - dialog */\r\n            link: ['', lang.toolbar.link, 'link', 'dialog', icons.link],\r\n            image: ['', lang.toolbar.image, 'image', 'dialog', icons.image],\r\n            video: ['', lang.toolbar.video, 'video', 'dialog', icons.video],\r\n            audio: ['', lang.toolbar.audio, 'audio', 'dialog', icons.audio],\r\n            math: ['', lang.toolbar.math, 'math', 'dialog', icons.math],\r\n            /** plugins - fileBrowser */\r\n            imageGallery: ['', lang.toolbar.imageGallery, 'imageGallery', 'fileBrowser', icons.image_gallery]\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create a group div containing each module\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    _createModuleGroup: function () {\r\n        const oDiv = util.createElement('DIV');\r\n        oDiv.className = 'se-btn-module se-btn-module-border';\r\n\r\n        const oUl = util.createElement('UL');\r\n        oUl.className = 'se-menu-list';\r\n        oDiv.appendChild(oUl);\r\n\r\n        return {\r\n            'div': oDiv,\r\n            'ul': oUl\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create a button element\r\n     * @param {string} buttonClass className in button\r\n     * @param {string} title Title in button\r\n     * @param {string} dataCommand The data-command property of the button\r\n     * @param {string} dataDisplay The data-display property of the button ('dialog', 'submenu', 'command')\r\n     * @param {string} innerHTML Html in button\r\n     * @param {string} _disabled Button disabled\r\n     * @param {Object} _icons Icons\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    _createButton: function (buttonClass, title, dataCommand, dataDisplay, innerHTML, _disabled, _icons) {\r\n        const oLi = util.createElement('LI');\r\n        const oButton = util.createElement('BUTTON');\r\n        const label = (title || dataCommand);\r\n\r\n        oButton.setAttribute('type', 'button');\r\n        oButton.setAttribute('class', 'se-btn' + (buttonClass ? ' ' + buttonClass : '') + ' se-tooltip');\r\n        oButton.setAttribute('data-command', dataCommand);\r\n        oButton.setAttribute('data-display', dataDisplay);\r\n        oButton.setAttribute('aria-label', label.replace(/<span .+<\\/span>/, ''));\r\n        oButton.setAttribute('tabindex', '-1');\r\n        \r\n        if (!innerHTML) innerHTML = '<span class=\"se-icon-text\">!</span>';\r\n        if (/^default\\./i.test(innerHTML)) {\r\n            innerHTML = _icons[innerHTML.replace(/^default\\./i, '')];\r\n        }\r\n        if (/^text\\./i.test(innerHTML)) {\r\n            innerHTML = innerHTML.replace(/^text\\./i, '');\r\n            oButton.className += ' se-btn-more-text';\r\n        }\r\n\r\n        innerHTML += '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + label + '</span></span>';\r\n\r\n        if (_disabled) oButton.setAttribute('disabled', true);\r\n        \r\n        oButton.innerHTML = innerHTML;\r\n        oLi.appendChild(oButton);\r\n\r\n        return {\r\n            'li': oLi,\r\n            'button': oButton\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create editor HTML\r\n     * @param {Array} doc document object\r\n     * @param {Array} buttonList option.buttonList\r\n     * @param {Object|null} plugins Plugins\r\n     * @param {Array} options options\r\n     * @returns {Object} { element: (Element) Toolbar element, plugins: (Array|null) Plugins Array, pluginCallButtons: (Object), responsiveButtons: (Array) }\r\n     * @private\r\n     */\r\n    _createToolBar: function (doc, buttonList, plugins, options) {\r\n        const separator_vertical = doc.createElement('DIV');\r\n        separator_vertical.className = 'se-toolbar-separator-vertical';\r\n\r\n        const tool_bar = doc.createElement('DIV');\r\n        tool_bar.className = 'se-toolbar sun-editor-common';\r\n\r\n        const _buttonTray = doc.createElement('DIV');\r\n        _buttonTray.className = 'se-btn-tray';\r\n        tool_bar.appendChild(_buttonTray);\r\n\r\n        /** create button list */\r\n        buttonList = JSON.parse(JSON.stringify(buttonList));\r\n        const icons = options.icons;\r\n        const defaultButtonList = this._defaultButtons(options);\r\n        const pluginCallButtons = {};\r\n        const responsiveButtons = [];\r\n\r\n        let module = null;\r\n        let button = null;\r\n        let moduleElement = null;\r\n        let buttonElement = null;\r\n        let pluginName = '';\r\n        let vertical = false;\r\n        const moreLayer = util.createElement('DIV');\r\n        moreLayer.className = 'se-toolbar-more-layer';\r\n\r\n        buttonGroupLoop:\r\n        for (let i = 0, more, moreContainer, moreCommand, buttonGroup, align; i < buttonList.length; i++) {\r\n            more = false;\r\n            align = '';\r\n            buttonGroup = buttonList[i];\r\n            moduleElement = this._createModuleGroup();\r\n\r\n            // button object\r\n            if (typeof buttonGroup === 'object') {\r\n                // buttons loop\r\n                for (let j = 0, moreButton; j < buttonGroup.length; j++) {\r\n                    button = buttonGroup[j];\r\n                    moreButton = false;\r\n\r\n                    if (/^\\%\\d+/.test(button) && j === 0) {\r\n                        buttonGroup[0] = button.replace(/[^\\d]/g, '');\r\n                        responsiveButtons.push(buttonGroup);\r\n                        buttonList.splice(i--, 1);\r\n                        continue buttonGroupLoop;\r\n                    }\r\n                    \r\n                    if (typeof button === 'object') {\r\n                        if (typeof button.add === 'function') {\r\n                            pluginName = button.name;\r\n                            module = defaultButtonList[pluginName];\r\n                            plugins[pluginName] = button;\r\n                        } else {\r\n                            pluginName = button.name;\r\n                            module = [button.buttonClass, button.title, button.name, button.dataDisplay, button.innerHTML, button._disabled];\r\n                        }\r\n                    } else {\r\n                        // align\r\n                        if (/^\\-/.test(button)) {\r\n                            align = button.substr(1);\r\n                            moduleElement.div.className += ' module-float-' + align;\r\n                            continue;\r\n                        }\r\n\r\n                        // rtl fix\r\n                        if (/^\\#/.test(button)) {\r\n                            const option = button.substr(1);\r\n                            if (option === 'fix') moduleElement.ul.className += ' se-menu-dir-fix';\r\n                            continue;\r\n                        }\r\n                        \r\n                        // more button\r\n                        if (/^\\:/.test(button)) {\r\n                            moreButton = true;\r\n                            const matched = button.match(/^\\:([^\\-]+)\\-([^\\-]+)\\-([^\\-]+)/);\r\n                            moreCommand = '__se__' + matched[1].trim();\r\n                            const title = matched[2].trim();\r\n                            const innerHTML = matched[3].trim();\r\n                            module = ['se-btn-more', title, moreCommand, 'MORE', innerHTML];\r\n                        }\r\n                        // buttons\r\n                        else {\r\n                            module = defaultButtonList[button];\r\n                        }\r\n\r\n                        pluginName = button;\r\n                        if (!module) {\r\n                            const custom = plugins[pluginName];\r\n                            if (!custom) throw Error('[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. [' + pluginName + ']');\r\n                            module = [custom.buttonClass, custom.title, custom.name, custom.display, custom.innerHTML, custom._disabled];\r\n                        }\r\n                    }\r\n\r\n                    buttonElement = this._createButton(module[0], module[1], module[2], module[3], module[4], module[5], icons);\r\n                    (more ? moreContainer : moduleElement.ul).appendChild(buttonElement.li);\r\n\r\n                    if (plugins[pluginName]) {\r\n                        pluginCallButtons[pluginName] = buttonElement.button;\r\n                    }\r\n\r\n                    // more button\r\n                    if (moreButton) {\r\n                        more = true;\r\n                        moreContainer = util.createElement('DIV');\r\n                        moreContainer.className = 'se-more-layer ' + moreCommand;\r\n                        moreContainer.innerHTML = '<div class=\"se-more-form\"><ul class=\"se-menu-list\"' + (align ? ' style=\"float: ' + align + ';\"' : '') + '></ul></div>';\r\n                        moreLayer.appendChild(moreContainer);\r\n                        moreContainer = moreContainer.firstElementChild.firstElementChild;\r\n                    }\r\n                }\r\n\r\n                if (vertical) {\r\n                    const sv =  separator_vertical.cloneNode(false);\r\n                    _buttonTray.appendChild(sv);\r\n                }\r\n                \r\n                _buttonTray.appendChild(moduleElement.div);\r\n                vertical = true;\r\n            }\r\n            /** line break  */\r\n            else if (/^\\/$/.test(buttonGroup)) {\r\n                const enterDiv = doc.createElement('DIV');\r\n                enterDiv.className = 'se-btn-module-enter';\r\n                _buttonTray.appendChild(enterDiv);\r\n                vertical = false;\r\n            }\r\n        }\r\n\r\n        switch (_buttonTray.children.length) {\r\n            case 0:\r\n                _buttonTray.style.display = 'none';\r\n                break;\r\n            case 1:\r\n                util.removeClass(_buttonTray.firstElementChild, 'se-btn-module-border');\r\n                break;\r\n            default:\r\n                if (options.rtl) {\r\n                    const sv =  separator_vertical.cloneNode(false);\r\n                    sv.style.float = _buttonTray.lastElementChild.style.float;\r\n                    _buttonTray.appendChild(sv);\r\n                }\r\n        }\r\n\r\n        if (responsiveButtons.length > 0) responsiveButtons.unshift(buttonList);\r\n        if (moreLayer.children.length > 0) _buttonTray.appendChild(moreLayer);\r\n\r\n        // menu tray\r\n        const _menuTray = doc.createElement('DIV');\r\n        _menuTray.className = 'se-menu-tray';\r\n        tool_bar.appendChild(_menuTray);\r\n\r\n        // cover\r\n        const tool_cover = doc.createElement('DIV');\r\n        tool_cover.className = 'se-toolbar-cover';\r\n        tool_bar.appendChild(tool_cover);\r\n\r\n        if (options.hideToolbar) tool_bar.style.display = 'none';\r\n\r\n        return {\r\n            'element': tool_bar,\r\n            'plugins': plugins,\r\n            'pluginCallButtons': pluginCallButtons,\r\n            'responsiveButtons': responsiveButtons,\r\n            '_menuTray': _menuTray,\r\n            '_buttonTray': _buttonTray\r\n        };\r\n    }\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}