{"ast":null,"code":"/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\n'use strict';\n\nimport colorPicker from '../modules/_colorPicker';\nexport default {\n  name: 'fontColor',\n  display: 'submenu',\n  add: function (core, targetElement) {\n    core.addModule([colorPicker]);\n    const context = core.context;\n    context.fontColor = {\n      previewEl: null,\n      colorInput: null,\n      colorList: null\n    };\n\n    /** set submenu */\n    let listDiv = this.setSubmenu(core);\n    context.fontColor.colorInput = listDiv.querySelector('._se_color_picker_input');\n\n    /** add event listeners */\n    context.fontColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\n    listDiv.querySelector('._se_color_picker_submit').addEventListener('click', this.submit.bind(core));\n    listDiv.querySelector('._se_color_picker_remove').addEventListener('click', this.remove.bind(core));\n    listDiv.addEventListener('click', this.pickup.bind(core));\n    context.fontColor.colorList = listDiv.querySelectorAll('li button');\n\n    /** append target button menu */\n    core.initMenuTarget(this.name, targetElement, listDiv);\n\n    /** empty memory */\n    listDiv = null;\n  },\n  setSubmenu: function (core) {\n    const colorArea = core.context.colorPicker.colorListHTML;\n    const listDiv = core.util.createElement('DIV');\n    listDiv.className = 'se-submenu se-list-layer';\n    listDiv.innerHTML = colorArea;\n    return listDiv;\n  },\n  /**\r\n  * @Override submenu\r\n  */\n  on: function () {\n    const contextPicker = this.context.colorPicker;\n    const contextFontColor = this.context.fontColor;\n    contextPicker._colorInput = contextFontColor.colorInput;\n    const color = this.wwComputedStyle.color;\n    contextPicker._defaultColor = color ? this.plugins.colorPicker.isHexColor(color) ? color : this.plugins.colorPicker.rgb2hex(color) : \"#333333\";\n    contextPicker._styleProperty = 'color';\n    contextPicker._colorList = contextFontColor.colorList;\n    this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\n  },\n  /**\r\n  * @Override _colorPicker\r\n  */\n  onChangeInput: function (e) {\n    this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\n  },\n  submit: function () {\n    this.plugins.fontColor.applyColor.call(this, this.context.colorPicker._currentColor);\n  },\n  pickup: function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.plugins.fontColor.applyColor.call(this, e.target.getAttribute('data-value'));\n  },\n  remove: function () {\n    this.nodeChange(null, ['color'], ['span'], true);\n    this.submenuOff();\n  },\n  applyColor: function (color) {\n    if (!color) return;\n    const newNode = this.util.createElement('SPAN');\n    newNode.style.color = color;\n    this.nodeChange(newNode, ['color'], null, null);\n    this.submenuOff();\n  }\n};","map":{"version":3,"names":["colorPicker","name","display","add","core","targetElement","addModule","context","fontColor","previewEl","colorInput","colorList","listDiv","setSubmenu","querySelector","addEventListener","onChangeInput","bind","submit","remove","pickup","querySelectorAll","initMenuTarget","colorArea","colorListHTML","util","createElement","className","innerHTML","on","contextPicker","contextFontColor","_colorInput","color","wwComputedStyle","_defaultColor","plugins","isHexColor","rgb2hex","_styleProperty","_colorList","init","call","getSelectionNode","e","setCurrentColor","target","value","applyColor","_currentColor","preventDefault","stopPropagation","getAttribute","nodeChange","submenuOff","newNode","style"],"sources":["E:/Programming/React/New folder (2)/dynamicArt/dynamic-article/node_modules/suneditor/src/plugins/submenu/fontColor.js"],"sourcesContent":["/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n'use strict';\r\n\r\nimport colorPicker from '../modules/_colorPicker';\r\n\r\nexport default {\r\n    name: 'fontColor',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        core.addModule([colorPicker]);\r\n\r\n        const context = core.context;\r\n        context.fontColor = {\r\n            previewEl: null,\r\n            colorInput: null,\r\n            colorList: null\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu(core);\r\n        context.fontColor.colorInput = listDiv.querySelector('._se_color_picker_input');\r\n\r\n        /** add event listeners */\r\n        context.fontColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\r\n        listDiv.querySelector('._se_color_picker_submit').addEventListener('click', this.submit.bind(core));\r\n        listDiv.querySelector('._se_color_picker_remove').addEventListener('click', this.remove.bind(core));\r\n        listDiv.addEventListener('click', this.pickup.bind(core));\r\n        context.fontColor.colorList = listDiv.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function (core) {\r\n        const colorArea = core.context.colorPicker.colorListHTML;\r\n        const listDiv = core.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer';\r\n        listDiv.innerHTML = colorArea;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const contextPicker = this.context.colorPicker;\r\n        const contextFontColor = this.context.fontColor;\r\n\r\n        contextPicker._colorInput = contextFontColor.colorInput;\r\n        const color = this.wwComputedStyle.color;\r\n        contextPicker._defaultColor = color ? this.plugins.colorPicker.isHexColor(color) ? color : this.plugins.colorPicker.rgb2hex(color) : \"#333333\";\r\n        contextPicker._styleProperty = 'color';\r\n        contextPicker._colorList = contextFontColor.colorList;\r\n        \r\n        this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\r\n    },\r\n\r\n     /**\r\n     * @Override _colorPicker\r\n     */\r\n    onChangeInput: function (e) {\r\n        this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\r\n    },\r\n\r\n    submit: function () {\r\n        this.plugins.fontColor.applyColor.call(this, this.context.colorPicker._currentColor);\r\n    },\r\n\r\n    pickup: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this.plugins.fontColor.applyColor.call(this, e.target.getAttribute('data-value'));\r\n    },\r\n\r\n    remove: function () {\r\n        this.nodeChange(null, ['color'], ['span'], true);\r\n        this.submenuOff();\r\n    },\r\n\r\n    applyColor: function (color) {\r\n        if (!color) return;\r\n\r\n        const newNode = this.util.createElement('SPAN');\r\n        newNode.style.color = color;\r\n        this.nodeChange(newNode, ['color'], null, null);\r\n\r\n        this.submenuOff();\r\n    }\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;;AAEZ,OAAOA,WAAW,MAAM,yBAAyB;AAEjD,eAAe;EACXC,IAAI,EAAE,WAAW;EACjBC,OAAO,EAAE,SAAS;EAClBC,GAAG,EAAE,SAAAA,CAAUC,IAAI,EAAEC,aAAa,EAAE;IAChCD,IAAI,CAACE,SAAS,CAAC,CAACN,WAAW,CAAC,CAAC;IAE7B,MAAMO,OAAO,GAAGH,IAAI,CAACG,OAAO;IAC5BA,OAAO,CAACC,SAAS,GAAG;MAChBC,SAAS,EAAE,IAAI;MACfC,UAAU,EAAE,IAAI;MAChBC,SAAS,EAAE;IACf,CAAC;;IAED;IACA,IAAIC,OAAO,GAAG,IAAI,CAACC,UAAU,CAACT,IAAI,CAAC;IACnCG,OAAO,CAACC,SAAS,CAACE,UAAU,GAAGE,OAAO,CAACE,aAAa,CAAC,yBAAyB,CAAC;;IAE/E;IACAP,OAAO,CAACC,SAAS,CAACE,UAAU,CAACK,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACC,aAAa,CAACC,IAAI,CAACb,IAAI,CAAC,CAAC;IACrFQ,OAAO,CAACE,aAAa,CAAC,0BAA0B,CAAC,CAACC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACG,MAAM,CAACD,IAAI,CAACb,IAAI,CAAC,CAAC;IACnGQ,OAAO,CAACE,aAAa,CAAC,0BAA0B,CAAC,CAACC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACI,MAAM,CAACF,IAAI,CAACb,IAAI,CAAC,CAAC;IACnGQ,OAAO,CAACG,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACK,MAAM,CAACH,IAAI,CAACb,IAAI,CAAC,CAAC;IACzDG,OAAO,CAACC,SAAS,CAACG,SAAS,GAAGC,OAAO,CAACS,gBAAgB,CAAC,WAAW,CAAC;;IAEnE;IACAjB,IAAI,CAACkB,cAAc,CAAC,IAAI,CAACrB,IAAI,EAAEI,aAAa,EAAEO,OAAO,CAAC;;IAEtD;IACAA,OAAO,GAAG,IAAI;EAClB,CAAC;EAEDC,UAAU,EAAE,SAAAA,CAAUT,IAAI,EAAE;IACxB,MAAMmB,SAAS,GAAGnB,IAAI,CAACG,OAAO,CAACP,WAAW,CAACwB,aAAa;IACxD,MAAMZ,OAAO,GAAGR,IAAI,CAACqB,IAAI,CAACC,aAAa,CAAC,KAAK,CAAC;IAE9Cd,OAAO,CAACe,SAAS,GAAG,0BAA0B;IAC9Cf,OAAO,CAACgB,SAAS,GAAGL,SAAS;IAE7B,OAAOX,OAAO;EAClB,CAAC;EAEA;AACL;AACA;EACIiB,EAAE,EAAE,SAAAA,CAAA,EAAY;IACZ,MAAMC,aAAa,GAAG,IAAI,CAACvB,OAAO,CAACP,WAAW;IAC9C,MAAM+B,gBAAgB,GAAG,IAAI,CAACxB,OAAO,CAACC,SAAS;IAE/CsB,aAAa,CAACE,WAAW,GAAGD,gBAAgB,CAACrB,UAAU;IACvD,MAAMuB,KAAK,GAAG,IAAI,CAACC,eAAe,CAACD,KAAK;IACxCH,aAAa,CAACK,aAAa,GAAGF,KAAK,GAAG,IAAI,CAACG,OAAO,CAACpC,WAAW,CAACqC,UAAU,CAACJ,KAAK,CAAC,GAAGA,KAAK,GAAG,IAAI,CAACG,OAAO,CAACpC,WAAW,CAACsC,OAAO,CAACL,KAAK,CAAC,GAAG,SAAS;IAC9IH,aAAa,CAACS,cAAc,GAAG,OAAO;IACtCT,aAAa,CAACU,UAAU,GAAGT,gBAAgB,CAACpB,SAAS;IAErD,IAAI,CAACyB,OAAO,CAACpC,WAAW,CAACyC,IAAI,CAACC,IAAI,CAAC,IAAI,EAAE,IAAI,CAACC,gBAAgB,CAAC,CAAC,EAAE,IAAI,CAAC;EAC3E,CAAC;EAEA;AACL;AACA;EACI3B,aAAa,EAAE,SAAAA,CAAU4B,CAAC,EAAE;IACxB,IAAI,CAACR,OAAO,CAACpC,WAAW,CAAC6C,eAAe,CAACH,IAAI,CAAC,IAAI,EAAEE,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC;EACvE,CAAC;EAED7B,MAAM,EAAE,SAAAA,CAAA,EAAY;IAChB,IAAI,CAACkB,OAAO,CAAC5B,SAAS,CAACwC,UAAU,CAACN,IAAI,CAAC,IAAI,EAAE,IAAI,CAACnC,OAAO,CAACP,WAAW,CAACiD,aAAa,CAAC;EACxF,CAAC;EAED7B,MAAM,EAAE,SAAAA,CAAUwB,CAAC,EAAE;IACjBA,CAAC,CAACM,cAAc,CAAC,CAAC;IAClBN,CAAC,CAACO,eAAe,CAAC,CAAC;IAEnB,IAAI,CAACf,OAAO,CAAC5B,SAAS,CAACwC,UAAU,CAACN,IAAI,CAAC,IAAI,EAAEE,CAAC,CAACE,MAAM,CAACM,YAAY,CAAC,YAAY,CAAC,CAAC;EACrF,CAAC;EAEDjC,MAAM,EAAE,SAAAA,CAAA,EAAY;IAChB,IAAI,CAACkC,UAAU,CAAC,IAAI,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC;IAChD,IAAI,CAACC,UAAU,CAAC,CAAC;EACrB,CAAC;EAEDN,UAAU,EAAE,SAAAA,CAAUf,KAAK,EAAE;IACzB,IAAI,CAACA,KAAK,EAAE;IAEZ,MAAMsB,OAAO,GAAG,IAAI,CAAC9B,IAAI,CAACC,aAAa,CAAC,MAAM,CAAC;IAC/C6B,OAAO,CAACC,KAAK,CAACvB,KAAK,GAAGA,KAAK;IAC3B,IAAI,CAACoB,UAAU,CAACE,OAAO,EAAE,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC;IAE/C,IAAI,CAACD,UAAU,CAAC,CAAC;EACrB;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}