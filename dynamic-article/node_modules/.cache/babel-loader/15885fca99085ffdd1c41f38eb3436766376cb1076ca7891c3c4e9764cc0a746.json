{"ast":null,"code":"/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n  name: 'textStyle',\n  display: 'submenu',\n  add: function (core, targetElement) {\n    const context = core.context;\n    context.textStyle = {\n      _styleList: null\n    };\n\n    /** set submenu */\n    let listDiv = this.setSubmenu(core);\n    let listUl = listDiv.querySelector('ul');\n\n    /** add event listeners */\n    listUl.addEventListener('click', this.pickup.bind(core));\n    context.textStyle._styleList = listDiv.querySelectorAll('li button');\n\n    /** append target button menu */\n    core.initMenuTarget(this.name, targetElement, listDiv);\n\n    /** empty memory */\n    listDiv = null, listUl = null;\n  },\n  setSubmenu: function (core) {\n    const option = core.options;\n    const listDiv = core.util.createElement('DIV');\n    listDiv.className = 'se-submenu se-list-layer se-list-format';\n    const defaultList = {\n      code: {\n        name: core.lang.menu.code,\n        class: '__se__t-code',\n        tag: 'code'\n      },\n      translucent: {\n        name: core.lang.menu.translucent,\n        style: 'opacity: 0.5;',\n        tag: 'span'\n      },\n      shadow: {\n        name: core.lang.menu.shadow,\n        class: '__se__t-shadow',\n        tag: 'span'\n      }\n    };\n    const styleList = !option.textStyles ? core._w.Object.keys(defaultList) : option.textStyles;\n    let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n    for (let i = 0, len = styleList.length, t, tag, name, attrs, command, value, _class; i < len; i++) {\n      t = styleList[i];\n      attrs = '', value = '', command = [];\n      if (typeof t === 'string') {\n        const defaultStyle = defaultList[t.toLowerCase()];\n        if (!defaultStyle) continue;\n        t = defaultStyle;\n      }\n      name = t.name;\n      tag = t.tag || 'span';\n      _class = t._class;\n      if (t.style) {\n        attrs += ' style=\"' + t.style + '\"';\n        value += t.style.replace(/:[^;]+(;|$)\\s*/g, ',');\n        command.push('style');\n      }\n      if (t.class) {\n        attrs += ' class=\"' + t.class + '\"';\n        value += '.' + t.class.trim().replace(/\\s+/g, ',.');\n        command.push('class');\n      }\n      value = value.replace(/,$/, '');\n      list += '<li>' + '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class : '') + '\" data-command=\"' + tag + '\" data-value=\"' + value + '\" title=\"' + name + '\" aria-label=\"' + name + '\">' + '<' + tag + attrs + '>' + name + '</' + tag + '>' + '</button></li>';\n    }\n    list += '</ul></div>';\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n  /**\n  * @Override submenu\n  */\n  on: function () {\n    const util = this.util;\n    const textStyleContext = this.context.textStyle;\n    const styleButtonList = textStyleContext._styleList;\n    const selectionNode = this.getSelectionNode();\n    for (let i = 0, len = styleButtonList.length, btn, data, active; i < len; i++) {\n      btn = styleButtonList[i];\n      data = btn.getAttribute('data-value').split(',');\n      for (let v = 0, node, value; v < data.length; v++) {\n        node = selectionNode;\n        active = false;\n        while (node && !util.isFormatElement(node) && !util.isComponent(node)) {\n          if (node.nodeName.toLowerCase() === btn.getAttribute('data-command').toLowerCase()) {\n            value = data[v];\n            if (/^\\./.test(value) ? util.hasClass(node, value.replace(/^\\./, '')) : !!node.style[value]) {\n              active = true;\n              break;\n            }\n          }\n          node = node.parentNode;\n        }\n        if (!active) break;\n      }\n      active ? util.addClass(btn, 'active') : util.removeClass(btn, 'active');\n    }\n  },\n  pickup: function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    let target = e.target;\n    let command = null,\n      tag = null;\n    while (!command && !/UL/i.test(target.tagName)) {\n      command = target.getAttribute('data-command');\n      if (command) {\n        tag = target.firstChild;\n        break;\n      }\n      target = target.parentNode;\n    }\n    if (!command) return;\n    const checkStyles = tag.style.cssText.replace(/:.+(;|$)/g, ',').split(',');\n    checkStyles.pop();\n    const classes = tag.classList;\n    for (let i = 0, len = classes.length; i < len; i++) {\n      checkStyles.push('.' + classes[i]);\n    }\n    const newNode = this.util.hasClass(target, 'active') ? null : tag.cloneNode(false);\n    const removeNodes = newNode ? null : [tag.nodeName];\n    this.nodeChange(newNode, checkStyles, removeNodes, true);\n    this.submenuOff();\n  }\n};","map":{"version":3,"names":["name","display","add","core","targetElement","context","textStyle","_styleList","listDiv","setSubmenu","listUl","querySelector","addEventListener","pickup","bind","querySelectorAll","initMenuTarget","option","options","util","createElement","className","defaultList","code","lang","menu","class","tag","translucent","style","shadow","styleList","textStyles","_w","Object","keys","list","i","len","length","t","attrs","command","value","_class","defaultStyle","toLowerCase","replace","push","trim","innerHTML","on","textStyleContext","styleButtonList","selectionNode","getSelectionNode","btn","data","active","getAttribute","split","v","node","isFormatElement","isComponent","nodeName","test","hasClass","parentNode","addClass","removeClass","e","preventDefault","stopPropagation","target","tagName","firstChild","checkStyles","cssText","pop","classes","classList","newNode","cloneNode","removeNodes","nodeChange","submenuOff"],"sources":["E:/Programming/React/New folder (2)/dynamicArt/dynamic-article/node_modules/suneditor/src/plugins/submenu/textStyle.js"],"sourcesContent":["/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n'use strict';\n\nexport default {\n    name: 'textStyle',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.textStyle = {\n            _styleList: null\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu(core);\n        let listUl = listDiv.querySelector('ul');\n\n        /** add event listeners */\n        listUl.addEventListener('click', this.pickup.bind(core));\n\n        context.textStyle._styleList = listDiv.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null, listUl = null;\n    },\n\n    setSubmenu: function (core) {\n        const option = core.options;\n        const listDiv = core.util.createElement('DIV');\n        listDiv.className = 'se-submenu se-list-layer se-list-format';\n\n        const defaultList = {\n            code: {\n                name: core.lang.menu.code,\n                class: '__se__t-code',\n                tag: 'code',\n            },\n            translucent: {\n                name: core.lang.menu.translucent,\n                style: 'opacity: 0.5;',\n                tag: 'span',\n            },\n            shadow: {\n                name: core.lang.menu.shadow,\n                class: '__se__t-shadow',\n                tag: 'span',\n            }\n        };\n        const styleList = !option.textStyles ? core._w.Object.keys(defaultList) : option.textStyles;\n\n        let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n        for (let i = 0, len = styleList.length, t, tag, name, attrs, command, value, _class; i < len; i++) {\n            t = styleList[i];\n            attrs = '', value = '', command = [];\n\n            if (typeof t === 'string') {\n                const defaultStyle = defaultList[t.toLowerCase()];\n                if (!defaultStyle) continue;\n                t = defaultStyle;\n            }\n\n            name = t.name;\n            tag = t.tag || 'span';\n            _class = t._class;\n\n            if (t.style) {\n                attrs += ' style=\"' + t.style + '\"';\n                value += t.style.replace(/:[^;]+(;|$)\\s*/g, ',');\n                command.push('style');\n            }\n            if (t.class) {\n                attrs += ' class=\"' + t.class + '\"';\n                value += '.' + t.class.trim().replace(/\\s+/g, ',.');\n                command.push('class');\n            }\n\n            value = value.replace(/,$/, '');\n\n            list += '<li>' +\n                '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class: '') + '\" data-command=\"' + tag + '\" data-value=\"' + value + '\" title=\"' + name + '\" aria-label=\"' + name + '\">' +\n                    '<' + tag + attrs + '>' + name +  '</' + tag + '>' +\n                '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @Override submenu\n     */\n    on: function () {\n        const util = this.util;\n        const textStyleContext = this.context.textStyle;\n        const styleButtonList = textStyleContext._styleList;\n        const selectionNode = this.getSelectionNode();\n\n        for (let i = 0, len = styleButtonList.length, btn, data, active; i < len; i++) {\n            btn = styleButtonList[i];\n            data = btn.getAttribute('data-value').split(',');\n            \n            for (let v = 0, node, value; v < data.length; v++) {\n                node = selectionNode;\n                active = false;\n                \n                while (node && !util.isFormatElement(node) && !util.isComponent(node)) {\n                    if (node.nodeName.toLowerCase() === btn.getAttribute('data-command').toLowerCase()) {\n                        value = data[v];\n                        if (/^\\./.test(value) ? util.hasClass(node, value.replace(/^\\./, '')) : !!node.style[value]) {\n                            active = true;\n                            break;\n                        }\n                    }\n                    node = node.parentNode;\n                }\n\n                if (!active) break;\n            }\n\n            active ? util.addClass(btn, 'active') : util.removeClass(btn, 'active');\n        }\n\n    },\n\n    pickup: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let command = null, tag = null;\n        \n        while (!command && !/UL/i.test(target.tagName)) {\n            command = target.getAttribute('data-command');\n            if (command) {\n                tag = target.firstChild;\n                break;\n            }\n            target = target.parentNode;\n        }\n\n        if (!command) return;\n\n        const checkStyles = tag.style.cssText.replace(/:.+(;|$)/g, ',').split(',');\n        checkStyles.pop();\n\n        const classes = tag.classList;\n        for (let i = 0, len = classes.length; i < len; i++) {\n            checkStyles.push('.' + classes[i]);\n        }\n\n        const newNode = this.util.hasClass(target, 'active') ? null : tag.cloneNode(false);\n        const removeNodes = newNode ? null : [tag.nodeName];\n        this.nodeChange(newNode, checkStyles, removeNodes, true);\n\n        this.submenuOff();\n    }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}