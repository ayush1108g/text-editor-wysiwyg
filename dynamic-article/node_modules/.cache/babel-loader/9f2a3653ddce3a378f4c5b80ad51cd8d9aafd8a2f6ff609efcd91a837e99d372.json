{"ast":null,"code":"'use strict';\n\nimport dialog from '../modules/dialog';\nconst KATEX_WEBSITE = \"https://katex.org/docs/supported.html\";\nexport default {\n  name: 'math',\n  display: 'dialog',\n  add: function (core) {\n    core.addModule([dialog]);\n    const context = core.context;\n    context.math = {\n      focusElement: null,\n      // @Override dialog // This element has focus when the dialog is opened.\n      previewElement: null,\n      fontSizeElement: null,\n      defaultFontSize: '',\n      _mathExp: null\n    };\n\n    /** math dialog */\n    let math_dialog = this.setDialog(core);\n    context.math.modal = math_dialog;\n    context.math.focusElement = math_dialog.querySelector('.se-math-exp');\n    context.math.previewElement = math_dialog.querySelector('.se-math-preview');\n    context.math.fontSizeElement = math_dialog.querySelector('.se-math-size');\n    context.math.focusElement.addEventListener(core.util.isIE ? 'textinput' : 'input', this._renderMathExp.bind(core, context.math), false);\n    context.math.fontSizeElement.addEventListener('change', function (e) {\n      this.fontSize = e.target.value;\n    }.bind(context.math.previewElement.style), false);\n\n    /** math controller */\n    let math_controller = this.setController_MathButton(core);\n    context.math.mathController = math_controller;\n    context.math._mathExp = null;\n\n    /** add event listeners */\n    math_dialog.querySelector('form').addEventListener('submit', this.submit.bind(core), false);\n    math_controller.addEventListener('click', this.onClick_mathController.bind(core));\n    context.math.previewElement.style.fontSize = context.math.defaultFontSize;\n\n    /** append html */\n    context.dialog.modal.appendChild(math_dialog);\n    context.element.relative.appendChild(math_controller);\n\n    /** empty memory */\n    math_dialog = null, math_controller = null;\n  },\n  /** dialog */\n  setDialog: function (core) {\n    const lang = core.lang;\n    const dialog = core.util.createElement('DIV');\n    const fontSize = core.options.mathFontSize;\n    let defaultFontSize = fontSize[0].value;\n    dialog.className = 'se-dialog-content';\n    dialog.style.display = 'none';\n    let html = '' + '<form>' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" title=\"' + lang.dialogBox.close + '\" aria-label=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.mathBox.title + '</span>' + '</div>' + '<div class=\"se-dialog-body\">' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.mathBox.inputLabel + ' (<a href=\"' + KATEX_WEBSITE + '\" target=\"_blank\">KaTeX</a>)</label>' + '<textarea class=\"se-input-form se-math-exp\" type=\"text\"></textarea>' + '</div>' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.mathBox.fontSizeLabel + '</label>' + '<select class=\"se-input-select se-math-size\">';\n    for (let i = 0, len = fontSize.length, f; i < len; i++) {\n      f = fontSize[i];\n      if (f.default) defaultFontSize = f.value;\n      html += '<option value=\"' + f.value + '\"' + (f.default ? ' selected' : '') + '>' + f.text + '</option>';\n    }\n    html += '</select>' + '</div>' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.mathBox.previewLabel + '</label>' + '<p class=\"se-math-preview\"></p>' + '</div>' + '</div>' + '<div class=\"se-dialog-footer\">' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\" aria-label=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n    core.context.math.defaultFontSize = defaultFontSize;\n    dialog.innerHTML = html;\n    return dialog;\n  },\n  /** modify controller button */\n  setController_MathButton: function (core) {\n    const lang = core.lang;\n    const math_btn = core.util.createElement('DIV');\n    math_btn.className = 'se-controller se-controller-link';\n    math_btn.innerHTML = '' + '<div class=\"se-arrow se-arrow-up\"></div>' + '<div class=\"link-content\">' + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + core.icons.edit + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + core.icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>' + '</div>' + '';\n    return math_btn;\n  },\n  /**\n   * @Required @Override dialog\n   */\n  open: function () {\n    this.plugins.dialog.open.call(this, 'math', 'math' === this.currentControllerName);\n  },\n  /**\n   * @Override core - managedTagsInfo\n   */\n  managedTags: function () {\n    return {\n      className: 'katex',\n      method: function (element) {\n        if (!element.getAttribute('data-exp') || !this.options.katex) return;\n        const dom = this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this, this.util.HTMLDecoder(element.getAttribute('data-exp'))));\n        element.innerHTML = dom.querySelector('.katex').innerHTML;\n        element.setAttribute('contenteditable', false);\n      }\n    };\n  },\n  _renderer: function (exp) {\n    let result = '';\n    try {\n      this.util.removeClass(this.context.math.focusElement, 'se-error');\n      result = this.options.katex.src.renderToString(exp, {\n        throwOnError: true,\n        displayMode: true\n      });\n    } catch (error) {\n      this.util.addClass(this.context.math.focusElement, 'se-error');\n      result = '<span class=\"se-math-katex-error\">Katex syntax error. (Refer <a href=\"' + KATEX_WEBSITE + '\" target=\"_blank\">KaTeX</a>)</span>';\n      console.warn('[SUNEDITOR.math.Katex.error] ', error);\n    }\n    return result;\n  },\n  _renderMathExp: function (contextMath, e) {\n    contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, e.target.value);\n  },\n  submit: function (e) {\n    this.showLoading();\n    e.preventDefault();\n    e.stopPropagation();\n    const submitAction = function () {\n      if (this.context.math.focusElement.value.trim().length === 0) return false;\n      const contextMath = this.context.math;\n      const mathExp = contextMath.focusElement.value;\n      const katexEl = contextMath.previewElement.querySelector('.katex');\n      if (!katexEl) return false;\n      katexEl.className = '__se__katex ' + katexEl.className;\n      katexEl.setAttribute('contenteditable', false);\n      katexEl.setAttribute('data-exp', this.util.HTMLEncoder(mathExp));\n      katexEl.setAttribute('data-font-size', contextMath.fontSizeElement.value);\n      katexEl.style.fontSize = contextMath.fontSizeElement.value;\n      if (!this.context.dialog.updateModal) {\n        const selectedFormats = this.getSelectedElements();\n        if (selectedFormats.length > 1) {\n          const oFormat = this.util.createElement(selectedFormats[0].nodeName);\n          oFormat.appendChild(katexEl);\n          if (!this.insertNode(oFormat, null, true)) return false;\n        } else {\n          if (!this.insertNode(katexEl, null, true)) return false;\n        }\n        const empty = this.util.createTextNode(this.util.zeroWidthSpace);\n        katexEl.parentNode.insertBefore(empty, katexEl.nextSibling);\n        this.setRange(katexEl, 0, katexEl, 1);\n      } else {\n        const containerEl = this.util.getParentElement(contextMath._mathExp, '.katex');\n        containerEl.parentNode.replaceChild(katexEl, containerEl);\n        this.setRange(katexEl, 0, katexEl, 1);\n      }\n      contextMath.focusElement.value = '';\n      contextMath.fontSizeElement.value = '1em';\n      contextMath.previewElement.style.fontSize = '1em';\n      contextMath.previewElement.innerHTML = '';\n      return true;\n    }.bind(this);\n    try {\n      if (submitAction()) {\n        this.plugins.dialog.close.call(this);\n        // history stack\n        this.history.push(false);\n      }\n    } catch (e) {\n      this.plugins.dialog.close.call(this);\n    } finally {\n      this.closeLoading();\n    }\n    return false;\n  },\n  active: function (element) {\n    if (!element) {\n      if (this.controllerArray.indexOf(this.context.math.mathController) > -1) {\n        this.controllersOff();\n      }\n    } else if (element.getAttribute('data-exp')) {\n      if (this.controllerArray.indexOf(this.context.math.mathController) < 0) {\n        this.setRange(element, 0, element, 1);\n        this.plugins.math.call_controller.call(this, element);\n      }\n      return true;\n    }\n    return false;\n  },\n  on: function (update) {\n    if (!update) {\n      this.plugins.math.init.call(this);\n    } else {\n      const contextMath = this.context.math;\n      if (contextMath._mathExp) {\n        const exp = this.util.HTMLDecoder(contextMath._mathExp.getAttribute('data-exp'));\n        const fontSize = contextMath._mathExp.getAttribute('data-font-size') || '1em';\n        this.context.dialog.updateModal = true;\n        contextMath.focusElement.value = exp;\n        contextMath.fontSizeElement.value = fontSize;\n        contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, exp);\n        contextMath.previewElement.style.fontSize = fontSize;\n      }\n    }\n  },\n  call_controller: function (mathTag) {\n    this.context.math._mathExp = mathTag;\n    const mathBtn = this.context.math.mathController;\n    this.setControllerPosition(mathBtn, mathTag, 'bottom', {\n      left: 0,\n      top: 0\n    });\n    this.controllersOn(mathBtn, mathTag, 'math');\n  },\n  onClick_mathController: function (e) {\n    e.stopPropagation();\n    const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n    if (!command) return;\n    e.preventDefault();\n    if (/update/.test(command)) {\n      this.context.math.focusElement.value = this.util.HTMLDecoder(this.context.math._mathExp.getAttribute('data-exp'));\n      this.plugins.dialog.open.call(this, 'math', true);\n    } else {\n      /** delete */\n      this.util.removeItem(this.context.math._mathExp);\n      this.context.math._mathExp = null;\n      this.focus();\n\n      // history stack\n      this.history.push(false);\n    }\n    this.controllersOff();\n  },\n  init: function () {\n    const contextMath = this.context.math;\n    contextMath.mathController.style.display = 'none';\n    contextMath._mathExp = null;\n    contextMath.focusElement.value = '';\n    contextMath.previewElement.innerHTML = '';\n  }\n};","map":{"version":3,"names":["dialog","KATEX_WEBSITE","name","display","add","core","addModule","context","math","focusElement","previewElement","fontSizeElement","defaultFontSize","_mathExp","math_dialog","setDialog","modal","querySelector","addEventListener","util","isIE","_renderMathExp","bind","e","fontSize","target","value","style","math_controller","setController_MathButton","mathController","submit","onClick_mathController","appendChild","element","relative","lang","createElement","options","mathFontSize","className","html","dialogBox","close","icons","cancel","mathBox","title","inputLabel","fontSizeLabel","i","len","length","f","default","text","previewLabel","submitButton","innerHTML","math_btn","edit","controller","delete","remove","open","plugins","call","currentControllerName","managedTags","method","getAttribute","katex","dom","_d","createRange","createContextualFragment","_renderer","HTMLDecoder","setAttribute","exp","result","removeClass","src","renderToString","throwOnError","displayMode","error","addClass","console","warn","contextMath","showLoading","preventDefault","stopPropagation","submitAction","trim","mathExp","katexEl","HTMLEncoder","updateModal","selectedFormats","getSelectedElements","oFormat","nodeName","insertNode","empty","createTextNode","zeroWidthSpace","parentNode","insertBefore","nextSibling","setRange","containerEl","getParentElement","replaceChild","history","push","closeLoading","active","controllerArray","indexOf","controllersOff","call_controller","on","update","init","mathTag","mathBtn","setControllerPosition","left","top","controllersOn","command","test","removeItem","focus"],"sources":["E:/Programming/React/New folder (2)/dynamicArt/dynamic-article/node_modules/suneditor/src/plugins/dialog/math.js"],"sourcesContent":["'use strict';\n\nimport dialog from '../modules/dialog';\n\nconst KATEX_WEBSITE = \"https://katex.org/docs/supported.html\";\n\nexport default {\n    name: 'math',\n    display: 'dialog',\n    add: function (core) {\n        core.addModule([dialog]);\n\n        const context = core.context;\n        context.math = {\n            focusElement: null, // @Override dialog // This element has focus when the dialog is opened.\n            previewElement: null,\n            fontSizeElement: null,\n            defaultFontSize: '',\n            _mathExp: null\n        };\n\n        /** math dialog */\n        let math_dialog = this.setDialog(core);\n        context.math.modal = math_dialog;\n        context.math.focusElement = math_dialog.querySelector('.se-math-exp');\n        context.math.previewElement = math_dialog.querySelector('.se-math-preview');\n        context.math.fontSizeElement = math_dialog.querySelector('.se-math-size');\n        context.math.focusElement.addEventListener(core.util.isIE ? 'textinput' : 'input', this._renderMathExp.bind(core, context.math), false);\n        context.math.fontSizeElement.addEventListener('change', function (e) { this.fontSize = e.target.value; }.bind(context.math.previewElement.style), false);\n\n        /** math controller */\n        let math_controller = this.setController_MathButton(core);\n        context.math.mathController = math_controller;\n        context.math._mathExp = null;\n\n        /** add event listeners */\n        math_dialog.querySelector('form').addEventListener('submit', this.submit.bind(core), false);\n        math_controller.addEventListener('click', this.onClick_mathController.bind(core));\n        context.math.previewElement.style.fontSize = context.math.defaultFontSize;\n\n        /** append html */\n        context.dialog.modal.appendChild(math_dialog);\n        context.element.relative.appendChild(math_controller);\n\n        /** empty memory */\n        math_dialog = null, math_controller = null;\n    },\n\n    /** dialog */\n    setDialog: function (core) {\n        const lang = core.lang;\n        const dialog = core.util.createElement('DIV');\n        const fontSize = core.options.mathFontSize;\n        let defaultFontSize = fontSize[0].value;\n\n        dialog.className = 'se-dialog-content';\n        dialog.style.display = 'none';\n        let html = '' +\n        '<form>' +\n            '<div class=\"se-dialog-header\">' +\n                '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" title=\"' + lang.dialogBox.close + '\" aria-label=\"' + lang.dialogBox.close + '\">' +\n                    core.icons.cancel +\n                '</button>' +\n                '<span class=\"se-modal-title\">' + lang.dialogBox.mathBox.title + '</span>' +\n            '</div>' +\n            '<div class=\"se-dialog-body\">' +\n                '<div class=\"se-dialog-form\">' +\n                    '<label>' + lang.dialogBox.mathBox.inputLabel + ' (<a href=\"' + KATEX_WEBSITE + '\" target=\"_blank\">KaTeX</a>)</label>' +\n                    '<textarea class=\"se-input-form se-math-exp\" type=\"text\"></textarea>' +\n                '</div>' +\n                '<div class=\"se-dialog-form\">' +\n                    '<label>' + lang.dialogBox.mathBox.fontSizeLabel + '</label>' +\n                    '<select class=\"se-input-select se-math-size\">';\n                    for (let i = 0, len = fontSize.length, f; i < len; i++) {\n                        f = fontSize[i];\n                        if (f.default) defaultFontSize = f.value;\n                        html += '<option value=\"' + f.value + '\"' + (f.default ? ' selected' : '') + '>' + f.text + '</option>';\n                    }\n                html += '</select>' +\n                '</div>' +\n                '<div class=\"se-dialog-form\">' +\n                    '<label>' + lang.dialogBox.mathBox.previewLabel + '</label>' +\n                    '<p class=\"se-math-preview\"></p>' +\n                '</div>' +\n            '</div>' +\n            '<div class=\"se-dialog-footer\">' +\n                '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\" aria-label=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\n            '</div>' +\n        '</form>';\n\n        core.context.math.defaultFontSize = defaultFontSize;\n        dialog.innerHTML = html;\n        return dialog;\n    },\n\n    /** modify controller button */\n    setController_MathButton: function (core) {\n        const lang = core.lang;\n        const math_btn = core.util.createElement('DIV');\n\n        math_btn.className = 'se-controller se-controller-link';\n        math_btn.innerHTML = '' +\n        '<div class=\"se-arrow se-arrow-up\"></div>' +\n        '<div class=\"link-content\">' +\n            '<div class=\"se-btn-group\">' +\n                '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\n                    core.icons.edit +\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\n                '</button>' +\n                '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\n                    core.icons.delete +\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\n                '</button>' +\n            '</div>' +\n        '</div>' +\n        '';\n\n        return math_btn;\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    open: function () {\n        this.plugins.dialog.open.call(this, 'math', 'math' === this.currentControllerName);\n    },\n\n    /**\n     * @Override core - managedTagsInfo\n     */\n    managedTags: function () {\n        return {\n            className: 'katex',\n            method: function (element) {\n                if (!element.getAttribute('data-exp') || !this.options.katex) return;\n                const dom = this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this, this.util.HTMLDecoder(element.getAttribute('data-exp'))));\n                element.innerHTML = dom.querySelector('.katex').innerHTML;\n                element.setAttribute('contenteditable', false);\n            }\n        };\n    },\n\n    _renderer: function (exp) {\n        let result = '';\n        try {\n            this.util.removeClass(this.context.math.focusElement, 'se-error');\n            result = this.options.katex.src.renderToString(exp, {throwOnError: true, displayMode: true});\n        } catch(error) {\n            this.util.addClass(this.context.math.focusElement, 'se-error');\n            result = '<span class=\"se-math-katex-error\">Katex syntax error. (Refer <a href=\"' + KATEX_WEBSITE + '\" target=\"_blank\">KaTeX</a>)</span>';\n            console.warn('[SUNEDITOR.math.Katex.error] ', error);\n        }\n        return result;\n    },\n\n    _renderMathExp: function (contextMath, e) {\n        contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, e.target.value);\n    },\n\n    submit: function (e) {\n        this.showLoading();\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        const submitAction = function () {\n            if (this.context.math.focusElement.value.trim().length === 0) return false;\n\n            const contextMath = this.context.math;\n            const mathExp = contextMath.focusElement.value;\n            const katexEl = contextMath.previewElement.querySelector('.katex');\n\n            if (!katexEl) return false;\n            katexEl.className = '__se__katex ' + katexEl.className;\n            katexEl.setAttribute('contenteditable', false);\n            katexEl.setAttribute('data-exp', this.util.HTMLEncoder(mathExp));\n            katexEl.setAttribute('data-font-size', contextMath.fontSizeElement.value);\n            katexEl.style.fontSize = contextMath.fontSizeElement.value;\n\n            if (!this.context.dialog.updateModal) {\n                const selectedFormats = this.getSelectedElements();\n\n                if (selectedFormats.length > 1) {\n                    const oFormat = this.util.createElement(selectedFormats[0].nodeName);\n                    oFormat.appendChild(katexEl);\n                    if (!this.insertNode(oFormat, null, true)) return false;\n                } else {\n                    if (!this.insertNode(katexEl, null, true)) return false;\n                }\n\n                const empty = this.util.createTextNode(this.util.zeroWidthSpace);\n                katexEl.parentNode.insertBefore(empty, katexEl.nextSibling);\n                this.setRange(katexEl, 0, katexEl, 1);\n            } else {\n                const containerEl = this.util.getParentElement(contextMath._mathExp, '.katex');\n                containerEl.parentNode.replaceChild(katexEl, containerEl);\n                this.setRange(katexEl, 0, katexEl, 1);\n            }\n\n            contextMath.focusElement.value = '';\n            contextMath.fontSizeElement.value = '1em';\n            contextMath.previewElement.style.fontSize = '1em';\n            contextMath.previewElement.innerHTML = '';\n\n            return true;\n        }.bind(this);\n\n        try {\n            if (submitAction()) {\n                this.plugins.dialog.close.call(this);\n                // history stack\n                this.history.push(false);\n            }\n        } catch (e) {\n            this.plugins.dialog.close.call(this);\n        } finally {\n            this.closeLoading();\n        }\n\n        return false;\n    },\n\n    active: function (element) {\n        if (!element) {\n            if (this.controllerArray.indexOf(this.context.math.mathController) > -1) {\n                this.controllersOff();\n            }\n        } else if (element.getAttribute('data-exp')) {\n            if (this.controllerArray.indexOf(this.context.math.mathController) < 0) {\n                this.setRange(element, 0, element, 1);\n                this.plugins.math.call_controller.call(this, element);\n            }\n            return true;\n        }\n\n        return false;\n    },\n\n    on: function (update) {\n        if (!update) {\n            this.plugins.math.init.call(this);\n        } else {\n            const contextMath = this.context.math;\n            if (contextMath._mathExp) {\n                const exp = this.util.HTMLDecoder(contextMath._mathExp.getAttribute('data-exp'));\n                const fontSize = contextMath._mathExp.getAttribute('data-font-size') || '1em';\n                this.context.dialog.updateModal = true;\n                contextMath.focusElement.value = exp;\n                contextMath.fontSizeElement.value = fontSize;\n                contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, exp);\n                contextMath.previewElement.style.fontSize = fontSize;\n            }\n        }\n    },\n\n    call_controller: function (mathTag) {\n        this.context.math._mathExp = mathTag;\n        const mathBtn = this.context.math.mathController;\n\n        this.setControllerPosition(mathBtn, mathTag, 'bottom', {left: 0, top: 0});\n        this.controllersOn(mathBtn, mathTag, 'math');\n    },\n\n    onClick_mathController: function (e) {\n        e.stopPropagation();\n\n        const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n        if (!command) return;\n\n        e.preventDefault();\n\n        if (/update/.test(command)) {\n            this.context.math.focusElement.value = this.util.HTMLDecoder(this.context.math._mathExp.getAttribute('data-exp'));\n            this.plugins.dialog.open.call(this, 'math', true);\n        } else {\n            /** delete */\n            this.util.removeItem(this.context.math._mathExp);\n            this.context.math._mathExp = null;\n            this.focus();\n\n            // history stack\n            this.history.push(false);\n        }\n\n        this.controllersOff();\n    },\n\n    init: function () {\n        const contextMath = this.context.math;\n        contextMath.mathController.style.display = 'none';\n        contextMath._mathExp = null;\n        contextMath.focusElement.value = '';\n        contextMath.previewElement.innerHTML = '';\n    }\n};\n"],"mappings":"AAAA,YAAY;;AAEZ,OAAOA,MAAM,MAAM,mBAAmB;AAEtC,MAAMC,aAAa,GAAG,uCAAuC;AAE7D,eAAe;EACXC,IAAI,EAAE,MAAM;EACZC,OAAO,EAAE,QAAQ;EACjBC,GAAG,EAAE,SAAAA,CAAUC,IAAI,EAAE;IACjBA,IAAI,CAACC,SAAS,CAAC,CAACN,MAAM,CAAC,CAAC;IAExB,MAAMO,OAAO,GAAGF,IAAI,CAACE,OAAO;IAC5BA,OAAO,CAACC,IAAI,GAAG;MACXC,YAAY,EAAE,IAAI;MAAE;MACpBC,cAAc,EAAE,IAAI;MACpBC,eAAe,EAAE,IAAI;MACrBC,eAAe,EAAE,EAAE;MACnBC,QAAQ,EAAE;IACd,CAAC;;IAED;IACA,IAAIC,WAAW,GAAG,IAAI,CAACC,SAAS,CAACV,IAAI,CAAC;IACtCE,OAAO,CAACC,IAAI,CAACQ,KAAK,GAAGF,WAAW;IAChCP,OAAO,CAACC,IAAI,CAACC,YAAY,GAAGK,WAAW,CAACG,aAAa,CAAC,cAAc,CAAC;IACrEV,OAAO,CAACC,IAAI,CAACE,cAAc,GAAGI,WAAW,CAACG,aAAa,CAAC,kBAAkB,CAAC;IAC3EV,OAAO,CAACC,IAAI,CAACG,eAAe,GAAGG,WAAW,CAACG,aAAa,CAAC,eAAe,CAAC;IACzEV,OAAO,CAACC,IAAI,CAACC,YAAY,CAACS,gBAAgB,CAACb,IAAI,CAACc,IAAI,CAACC,IAAI,GAAG,WAAW,GAAG,OAAO,EAAE,IAAI,CAACC,cAAc,CAACC,IAAI,CAACjB,IAAI,EAAEE,OAAO,CAACC,IAAI,CAAC,EAAE,KAAK,CAAC;IACvID,OAAO,CAACC,IAAI,CAACG,eAAe,CAACO,gBAAgB,CAAC,QAAQ,EAAE,UAAUK,CAAC,EAAE;MAAE,IAAI,CAACC,QAAQ,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK;IAAE,CAAC,CAACJ,IAAI,CAACf,OAAO,CAACC,IAAI,CAACE,cAAc,CAACiB,KAAK,CAAC,EAAE,KAAK,CAAC;;IAExJ;IACA,IAAIC,eAAe,GAAG,IAAI,CAACC,wBAAwB,CAACxB,IAAI,CAAC;IACzDE,OAAO,CAACC,IAAI,CAACsB,cAAc,GAAGF,eAAe;IAC7CrB,OAAO,CAACC,IAAI,CAACK,QAAQ,GAAG,IAAI;;IAE5B;IACAC,WAAW,CAACG,aAAa,CAAC,MAAM,CAAC,CAACC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACa,MAAM,CAACT,IAAI,CAACjB,IAAI,CAAC,EAAE,KAAK,CAAC;IAC3FuB,eAAe,CAACV,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACc,sBAAsB,CAACV,IAAI,CAACjB,IAAI,CAAC,CAAC;IACjFE,OAAO,CAACC,IAAI,CAACE,cAAc,CAACiB,KAAK,CAACH,QAAQ,GAAGjB,OAAO,CAACC,IAAI,CAACI,eAAe;;IAEzE;IACAL,OAAO,CAACP,MAAM,CAACgB,KAAK,CAACiB,WAAW,CAACnB,WAAW,CAAC;IAC7CP,OAAO,CAAC2B,OAAO,CAACC,QAAQ,CAACF,WAAW,CAACL,eAAe,CAAC;;IAErD;IACAd,WAAW,GAAG,IAAI,EAAEc,eAAe,GAAG,IAAI;EAC9C,CAAC;EAED;EACAb,SAAS,EAAE,SAAAA,CAAUV,IAAI,EAAE;IACvB,MAAM+B,IAAI,GAAG/B,IAAI,CAAC+B,IAAI;IACtB,MAAMpC,MAAM,GAAGK,IAAI,CAACc,IAAI,CAACkB,aAAa,CAAC,KAAK,CAAC;IAC7C,MAAMb,QAAQ,GAAGnB,IAAI,CAACiC,OAAO,CAACC,YAAY;IAC1C,IAAI3B,eAAe,GAAGY,QAAQ,CAAC,CAAC,CAAC,CAACE,KAAK;IAEvC1B,MAAM,CAACwC,SAAS,GAAG,mBAAmB;IACtCxC,MAAM,CAAC2B,KAAK,CAACxB,OAAO,GAAG,MAAM;IAC7B,IAAIsC,IAAI,GAAG,EAAE,GACb,QAAQ,GACJ,gCAAgC,GAC5B,mFAAmF,GAAGL,IAAI,CAACM,SAAS,CAACC,KAAK,GAAG,gBAAgB,GAAGP,IAAI,CAACM,SAAS,CAACC,KAAK,GAAG,IAAI,GACvJtC,IAAI,CAACuC,KAAK,CAACC,MAAM,GACrB,WAAW,GACX,+BAA+B,GAAGT,IAAI,CAACM,SAAS,CAACI,OAAO,CAACC,KAAK,GAAG,SAAS,GAC9E,QAAQ,GACR,8BAA8B,GAC1B,8BAA8B,GAC1B,SAAS,GAAGX,IAAI,CAACM,SAAS,CAACI,OAAO,CAACE,UAAU,GAAG,aAAa,GAAG/C,aAAa,GAAG,sCAAsC,GACtH,qEAAqE,GACzE,QAAQ,GACR,8BAA8B,GAC1B,SAAS,GAAGmC,IAAI,CAACM,SAAS,CAACI,OAAO,CAACG,aAAa,GAAG,UAAU,GAC7D,+CAA+C;IAC/C,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEC,GAAG,GAAG3B,QAAQ,CAAC4B,MAAM,EAAEC,CAAC,EAAEH,CAAC,GAAGC,GAAG,EAAED,CAAC,EAAE,EAAE;MACpDG,CAAC,GAAG7B,QAAQ,CAAC0B,CAAC,CAAC;MACf,IAAIG,CAAC,CAACC,OAAO,EAAE1C,eAAe,GAAGyC,CAAC,CAAC3B,KAAK;MACxCe,IAAI,IAAI,iBAAiB,GAAGY,CAAC,CAAC3B,KAAK,GAAG,GAAG,IAAI2B,CAAC,CAACC,OAAO,GAAG,WAAW,GAAG,EAAE,CAAC,GAAG,GAAG,GAAGD,CAAC,CAACE,IAAI,GAAG,WAAW;IAC3G;IACJd,IAAI,IAAI,WAAW,GACnB,QAAQ,GACR,8BAA8B,GAC1B,SAAS,GAAGL,IAAI,CAACM,SAAS,CAACI,OAAO,CAACU,YAAY,GAAG,UAAU,GAC5D,iCAAiC,GACrC,QAAQ,GACZ,QAAQ,GACR,gCAAgC,GAC5B,sDAAsD,GAAGpB,IAAI,CAACM,SAAS,CAACe,YAAY,GAAG,gBAAgB,GAAGrB,IAAI,CAACM,SAAS,CAACe,YAAY,GAAG,UAAU,GAAGrB,IAAI,CAACM,SAAS,CAACe,YAAY,GAAG,kBAAkB,GACzM,QAAQ,GACZ,SAAS;IAETpD,IAAI,CAACE,OAAO,CAACC,IAAI,CAACI,eAAe,GAAGA,eAAe;IACnDZ,MAAM,CAAC0D,SAAS,GAAGjB,IAAI;IACvB,OAAOzC,MAAM;EACjB,CAAC;EAED;EACA6B,wBAAwB,EAAE,SAAAA,CAAUxB,IAAI,EAAE;IACtC,MAAM+B,IAAI,GAAG/B,IAAI,CAAC+B,IAAI;IACtB,MAAMuB,QAAQ,GAAGtD,IAAI,CAACc,IAAI,CAACkB,aAAa,CAAC,KAAK,CAAC;IAE/CsB,QAAQ,CAACnB,SAAS,GAAG,kCAAkC;IACvDmB,QAAQ,CAACD,SAAS,GAAG,EAAE,GACvB,0CAA0C,GAC1C,4BAA4B,GACxB,4BAA4B,GACxB,sFAAsF,GAClFrD,IAAI,CAACuC,KAAK,CAACgB,IAAI,GACf,+DAA+D,GAAGxB,IAAI,CAACyB,UAAU,CAACD,IAAI,GAAG,gBAAgB,GAC7G,WAAW,GACX,sFAAsF,GAClFvD,IAAI,CAACuC,KAAK,CAACkB,MAAM,GACjB,+DAA+D,GAAG1B,IAAI,CAACyB,UAAU,CAACE,MAAM,GAAG,gBAAgB,GAC/G,WAAW,GACf,QAAQ,GACZ,QAAQ,GACR,EAAE;IAEF,OAAOJ,QAAQ;EACnB,CAAC;EAED;AACJ;AACA;EACIK,IAAI,EAAE,SAAAA,CAAA,EAAY;IACd,IAAI,CAACC,OAAO,CAACjE,MAAM,CAACgE,IAAI,CAACE,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,KAAK,IAAI,CAACC,qBAAqB,CAAC;EACtF,CAAC;EAED;AACJ;AACA;EACIC,WAAW,EAAE,SAAAA,CAAA,EAAY;IACrB,OAAO;MACH5B,SAAS,EAAE,OAAO;MAClB6B,MAAM,EAAE,SAAAA,CAAUnC,OAAO,EAAE;QACvB,IAAI,CAACA,OAAO,CAACoC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAChC,OAAO,CAACiC,KAAK,EAAE;QAC9D,MAAMC,GAAG,GAAG,IAAI,CAACC,EAAE,CAACC,WAAW,CAAC,CAAC,CAACC,wBAAwB,CAAC,IAAI,CAACV,OAAO,CAACzD,IAAI,CAACoE,SAAS,CAACV,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC/C,IAAI,CAAC0D,WAAW,CAAC3C,OAAO,CAACoC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAC3JpC,OAAO,CAACwB,SAAS,GAAGc,GAAG,CAACvD,aAAa,CAAC,QAAQ,CAAC,CAACyC,SAAS;QACzDxB,OAAO,CAAC4C,YAAY,CAAC,iBAAiB,EAAE,KAAK,CAAC;MAClD;IACJ,CAAC;EACL,CAAC;EAEDF,SAAS,EAAE,SAAAA,CAAUG,GAAG,EAAE;IACtB,IAAIC,MAAM,GAAG,EAAE;IACf,IAAI;MACA,IAAI,CAAC7D,IAAI,CAAC8D,WAAW,CAAC,IAAI,CAAC1E,OAAO,CAACC,IAAI,CAACC,YAAY,EAAE,UAAU,CAAC;MACjEuE,MAAM,GAAG,IAAI,CAAC1C,OAAO,CAACiC,KAAK,CAACW,GAAG,CAACC,cAAc,CAACJ,GAAG,EAAE;QAACK,YAAY,EAAE,IAAI;QAAEC,WAAW,EAAE;MAAI,CAAC,CAAC;IAChG,CAAC,CAAC,OAAMC,KAAK,EAAE;MACX,IAAI,CAACnE,IAAI,CAACoE,QAAQ,CAAC,IAAI,CAAChF,OAAO,CAACC,IAAI,CAACC,YAAY,EAAE,UAAU,CAAC;MAC9DuE,MAAM,GAAG,wEAAwE,GAAG/E,aAAa,GAAG,qCAAqC;MACzIuF,OAAO,CAACC,IAAI,CAAC,+BAA+B,EAAEH,KAAK,CAAC;IACxD;IACA,OAAON,MAAM;EACjB,CAAC;EAED3D,cAAc,EAAE,SAAAA,CAAUqE,WAAW,EAAEnE,CAAC,EAAE;IACtCmE,WAAW,CAAChF,cAAc,CAACgD,SAAS,GAAG,IAAI,CAACO,OAAO,CAACzD,IAAI,CAACoE,SAAS,CAACV,IAAI,CAAC,IAAI,EAAE3C,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC;EACjG,CAAC;EAEDK,MAAM,EAAE,SAAAA,CAAUR,CAAC,EAAE;IACjB,IAAI,CAACoE,WAAW,CAAC,CAAC;IAElBpE,CAAC,CAACqE,cAAc,CAAC,CAAC;IAClBrE,CAAC,CAACsE,eAAe,CAAC,CAAC;IAEnB,MAAMC,YAAY,GAAG,YAAY;MAC7B,IAAI,IAAI,CAACvF,OAAO,CAACC,IAAI,CAACC,YAAY,CAACiB,KAAK,CAACqE,IAAI,CAAC,CAAC,CAAC3C,MAAM,KAAK,CAAC,EAAE,OAAO,KAAK;MAE1E,MAAMsC,WAAW,GAAG,IAAI,CAACnF,OAAO,CAACC,IAAI;MACrC,MAAMwF,OAAO,GAAGN,WAAW,CAACjF,YAAY,CAACiB,KAAK;MAC9C,MAAMuE,OAAO,GAAGP,WAAW,CAAChF,cAAc,CAACO,aAAa,CAAC,QAAQ,CAAC;MAElE,IAAI,CAACgF,OAAO,EAAE,OAAO,KAAK;MAC1BA,OAAO,CAACzD,SAAS,GAAG,cAAc,GAAGyD,OAAO,CAACzD,SAAS;MACtDyD,OAAO,CAACnB,YAAY,CAAC,iBAAiB,EAAE,KAAK,CAAC;MAC9CmB,OAAO,CAACnB,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC3D,IAAI,CAAC+E,WAAW,CAACF,OAAO,CAAC,CAAC;MAChEC,OAAO,CAACnB,YAAY,CAAC,gBAAgB,EAAEY,WAAW,CAAC/E,eAAe,CAACe,KAAK,CAAC;MACzEuE,OAAO,CAACtE,KAAK,CAACH,QAAQ,GAAGkE,WAAW,CAAC/E,eAAe,CAACe,KAAK;MAE1D,IAAI,CAAC,IAAI,CAACnB,OAAO,CAACP,MAAM,CAACmG,WAAW,EAAE;QAClC,MAAMC,eAAe,GAAG,IAAI,CAACC,mBAAmB,CAAC,CAAC;QAElD,IAAID,eAAe,CAAChD,MAAM,GAAG,CAAC,EAAE;UAC5B,MAAMkD,OAAO,GAAG,IAAI,CAACnF,IAAI,CAACkB,aAAa,CAAC+D,eAAe,CAAC,CAAC,CAAC,CAACG,QAAQ,CAAC;UACpED,OAAO,CAACrE,WAAW,CAACgE,OAAO,CAAC;UAC5B,IAAI,CAAC,IAAI,CAACO,UAAU,CAACF,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,EAAE,OAAO,KAAK;QAC3D,CAAC,MAAM;UACH,IAAI,CAAC,IAAI,CAACE,UAAU,CAACP,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,EAAE,OAAO,KAAK;QAC3D;QAEA,MAAMQ,KAAK,GAAG,IAAI,CAACtF,IAAI,CAACuF,cAAc,CAAC,IAAI,CAACvF,IAAI,CAACwF,cAAc,CAAC;QAChEV,OAAO,CAACW,UAAU,CAACC,YAAY,CAACJ,KAAK,EAAER,OAAO,CAACa,WAAW,CAAC;QAC3D,IAAI,CAACC,QAAQ,CAACd,OAAO,EAAE,CAAC,EAAEA,OAAO,EAAE,CAAC,CAAC;MACzC,CAAC,MAAM;QACH,MAAMe,WAAW,GAAG,IAAI,CAAC7F,IAAI,CAAC8F,gBAAgB,CAACvB,WAAW,CAAC7E,QAAQ,EAAE,QAAQ,CAAC;QAC9EmG,WAAW,CAACJ,UAAU,CAACM,YAAY,CAACjB,OAAO,EAAEe,WAAW,CAAC;QACzD,IAAI,CAACD,QAAQ,CAACd,OAAO,EAAE,CAAC,EAAEA,OAAO,EAAE,CAAC,CAAC;MACzC;MAEAP,WAAW,CAACjF,YAAY,CAACiB,KAAK,GAAG,EAAE;MACnCgE,WAAW,CAAC/E,eAAe,CAACe,KAAK,GAAG,KAAK;MACzCgE,WAAW,CAAChF,cAAc,CAACiB,KAAK,CAACH,QAAQ,GAAG,KAAK;MACjDkE,WAAW,CAAChF,cAAc,CAACgD,SAAS,GAAG,EAAE;MAEzC,OAAO,IAAI;IACf,CAAC,CAACpC,IAAI,CAAC,IAAI,CAAC;IAEZ,IAAI;MACA,IAAIwE,YAAY,CAAC,CAAC,EAAE;QAChB,IAAI,CAAC7B,OAAO,CAACjE,MAAM,CAAC2C,KAAK,CAACuB,IAAI,CAAC,IAAI,CAAC;QACpC;QACA,IAAI,CAACiD,OAAO,CAACC,IAAI,CAAC,KAAK,CAAC;MAC5B;IACJ,CAAC,CAAC,OAAO7F,CAAC,EAAE;MACR,IAAI,CAAC0C,OAAO,CAACjE,MAAM,CAAC2C,KAAK,CAACuB,IAAI,CAAC,IAAI,CAAC;IACxC,CAAC,SAAS;MACN,IAAI,CAACmD,YAAY,CAAC,CAAC;IACvB;IAEA,OAAO,KAAK;EAChB,CAAC;EAEDC,MAAM,EAAE,SAAAA,CAAUpF,OAAO,EAAE;IACvB,IAAI,CAACA,OAAO,EAAE;MACV,IAAI,IAAI,CAACqF,eAAe,CAACC,OAAO,CAAC,IAAI,CAACjH,OAAO,CAACC,IAAI,CAACsB,cAAc,CAAC,GAAG,CAAC,CAAC,EAAE;QACrE,IAAI,CAAC2F,cAAc,CAAC,CAAC;MACzB;IACJ,CAAC,MAAM,IAAIvF,OAAO,CAACoC,YAAY,CAAC,UAAU,CAAC,EAAE;MACzC,IAAI,IAAI,CAACiD,eAAe,CAACC,OAAO,CAAC,IAAI,CAACjH,OAAO,CAACC,IAAI,CAACsB,cAAc,CAAC,GAAG,CAAC,EAAE;QACpE,IAAI,CAACiF,QAAQ,CAAC7E,OAAO,EAAE,CAAC,EAAEA,OAAO,EAAE,CAAC,CAAC;QACrC,IAAI,CAAC+B,OAAO,CAACzD,IAAI,CAACkH,eAAe,CAACxD,IAAI,CAAC,IAAI,EAAEhC,OAAO,CAAC;MACzD;MACA,OAAO,IAAI;IACf;IAEA,OAAO,KAAK;EAChB,CAAC;EAEDyF,EAAE,EAAE,SAAAA,CAAUC,MAAM,EAAE;IAClB,IAAI,CAACA,MAAM,EAAE;MACT,IAAI,CAAC3D,OAAO,CAACzD,IAAI,CAACqH,IAAI,CAAC3D,IAAI,CAAC,IAAI,CAAC;IACrC,CAAC,MAAM;MACH,MAAMwB,WAAW,GAAG,IAAI,CAACnF,OAAO,CAACC,IAAI;MACrC,IAAIkF,WAAW,CAAC7E,QAAQ,EAAE;QACtB,MAAMkE,GAAG,GAAG,IAAI,CAAC5D,IAAI,CAAC0D,WAAW,CAACa,WAAW,CAAC7E,QAAQ,CAACyD,YAAY,CAAC,UAAU,CAAC,CAAC;QAChF,MAAM9C,QAAQ,GAAGkE,WAAW,CAAC7E,QAAQ,CAACyD,YAAY,CAAC,gBAAgB,CAAC,IAAI,KAAK;QAC7E,IAAI,CAAC/D,OAAO,CAACP,MAAM,CAACmG,WAAW,GAAG,IAAI;QACtCT,WAAW,CAACjF,YAAY,CAACiB,KAAK,GAAGqD,GAAG;QACpCW,WAAW,CAAC/E,eAAe,CAACe,KAAK,GAAGF,QAAQ;QAC5CkE,WAAW,CAAChF,cAAc,CAACgD,SAAS,GAAG,IAAI,CAACO,OAAO,CAACzD,IAAI,CAACoE,SAAS,CAACV,IAAI,CAAC,IAAI,EAAEa,GAAG,CAAC;QAClFW,WAAW,CAAChF,cAAc,CAACiB,KAAK,CAACH,QAAQ,GAAGA,QAAQ;MACxD;IACJ;EACJ,CAAC;EAEDkG,eAAe,EAAE,SAAAA,CAAUI,OAAO,EAAE;IAChC,IAAI,CAACvH,OAAO,CAACC,IAAI,CAACK,QAAQ,GAAGiH,OAAO;IACpC,MAAMC,OAAO,GAAG,IAAI,CAACxH,OAAO,CAACC,IAAI,CAACsB,cAAc;IAEhD,IAAI,CAACkG,qBAAqB,CAACD,OAAO,EAAED,OAAO,EAAE,QAAQ,EAAE;MAACG,IAAI,EAAE,CAAC;MAAEC,GAAG,EAAE;IAAC,CAAC,CAAC;IACzE,IAAI,CAACC,aAAa,CAACJ,OAAO,EAAED,OAAO,EAAE,MAAM,CAAC;EAChD,CAAC;EAED9F,sBAAsB,EAAE,SAAAA,CAAUT,CAAC,EAAE;IACjCA,CAAC,CAACsE,eAAe,CAAC,CAAC;IAEnB,MAAMuC,OAAO,GAAG7G,CAAC,CAACE,MAAM,CAAC6C,YAAY,CAAC,cAAc,CAAC,IAAI/C,CAAC,CAACE,MAAM,CAACmF,UAAU,CAACtC,YAAY,CAAC,cAAc,CAAC;IACzG,IAAI,CAAC8D,OAAO,EAAE;IAEd7G,CAAC,CAACqE,cAAc,CAAC,CAAC;IAElB,IAAI,QAAQ,CAACyC,IAAI,CAACD,OAAO,CAAC,EAAE;MACxB,IAAI,CAAC7H,OAAO,CAACC,IAAI,CAACC,YAAY,CAACiB,KAAK,GAAG,IAAI,CAACP,IAAI,CAAC0D,WAAW,CAAC,IAAI,CAACtE,OAAO,CAACC,IAAI,CAACK,QAAQ,CAACyD,YAAY,CAAC,UAAU,CAAC,CAAC;MACjH,IAAI,CAACL,OAAO,CAACjE,MAAM,CAACgE,IAAI,CAACE,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC;IACrD,CAAC,MAAM;MACH;MACA,IAAI,CAAC/C,IAAI,CAACmH,UAAU,CAAC,IAAI,CAAC/H,OAAO,CAACC,IAAI,CAACK,QAAQ,CAAC;MAChD,IAAI,CAACN,OAAO,CAACC,IAAI,CAACK,QAAQ,GAAG,IAAI;MACjC,IAAI,CAAC0H,KAAK,CAAC,CAAC;;MAEZ;MACA,IAAI,CAACpB,OAAO,CAACC,IAAI,CAAC,KAAK,CAAC;IAC5B;IAEA,IAAI,CAACK,cAAc,CAAC,CAAC;EACzB,CAAC;EAEDI,IAAI,EAAE,SAAAA,CAAA,EAAY;IACd,MAAMnC,WAAW,GAAG,IAAI,CAACnF,OAAO,CAACC,IAAI;IACrCkF,WAAW,CAAC5D,cAAc,CAACH,KAAK,CAACxB,OAAO,GAAG,MAAM;IACjDuF,WAAW,CAAC7E,QAAQ,GAAG,IAAI;IAC3B6E,WAAW,CAACjF,YAAY,CAACiB,KAAK,GAAG,EAAE;IACnCgE,WAAW,CAAChF,cAAc,CAACgD,SAAS,GAAG,EAAE;EAC7C;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}